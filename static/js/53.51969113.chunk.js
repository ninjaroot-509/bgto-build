(this.webpackJsonplpcenter=this.webpackJsonplpcenter||[]).push([[53],{1241:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var a=i(158),r=i(557),l=i(296),n=i(1207),o=i(37),c=i(0);function s(e){let{links:t,action:i,heading:s,moreLink:d=[],sx:u,...b}=e;return Object(c.jsxs)(r.a,{sx:{mb:5,...u},children:[Object(c.jsxs)(r.a,{sx:{display:"flex",alignItems:"center"},children:[Object(c.jsxs)(r.a,{sx:{flexGrow:1},children:[Object(c.jsx)(l.a,{variant:"h4",gutterBottom:!0,children:s}),Object(c.jsx)(o.b,{links:t,...b})]}),i&&Object(c.jsx)(r.a,{sx:{flexShrink:0},children:i})]}),Object(c.jsx)(r.a,{sx:{mt:2},children:Object(a.isString)(d)?Object(c.jsx)(n.a,{href:d,target:"_blank",variant:"body2",children:d}):d.map((e=>Object(c.jsx)(n.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)))})]})}},1255:function(e,t,i){"use strict";var a=i(2),r=i(5),l=i(1),n=i(11),o=i(221),c=i(4),s=i(15),d=i(558),u=i(190),b=i(156);function j(e){return Object(b.a)("MuiCard",e)}Object(u.a)("MuiCard",["root"]);var O=i(0);const h=["className","raised"],v=Object(c.a)(d.a,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),x=l.forwardRef((function(e,t){const i=Object(s.a)({props:e,name:"MuiCard"}),{className:l,raised:c=!1}=i,d=Object(r.a)(i,h),u=Object(a.a)({},i,{raised:c}),b=(e=>{const{classes:t}=e;return Object(o.a)({root:["root"]},j,t)})(u);return Object(O.jsx)(v,Object(a.a)({className:Object(n.a)(b.root,l),elevation:c?8:void 0,ref:t,ownerState:u},d))}));t.a=x},1950:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return k}));var a=i(1),r=i(19),l=i(1226),n=i(103),o=i(63),c=i(22),s=i(91),d=i(380),u=i(1241),b=i(226),j=i(159),O=i(225),h=i(1208),v=i(1255),x=i(1221),m=i(1233),f=i(557),g=i(1204),p=i(222),_=i(0);function B(e){var t,i;let{isEdit:l,currentBoule:s}=e;const d=Object(r.o)(),u=Object(n.c)(),{enqueueSnackbar:B}=Object(j.b)(),{infotirages:k,agents:S}=Object(n.d)((e=>e.user)),y=b.d().shape({boule:b.e().required("boule is required"),tirage_id:b.e().required("tirage_id is required"),agent_id:b.e().required("agent_id is required")}),C=Object(O.c)({enableReinitialize:!0,initialValues:{boule:(null===s||void 0===s?void 0:s.boule)||null,bouleId:(null===s||void 0===s?void 0:s.id)||null,tirage_id:(null===s||void 0===s?void 0:s.tirage)||null,agent_id:(null===s||void 0===s?void 0:s.agent)||null},validationSchema:y,onSubmit:async(e,t)=>{let{setSubmitting:i,resetForm:a,setErrors:r}=t;try{var n;l?await p.a.handleModifyBouleBlock(e):await p.a.handleAddBouleBlock(e),a(),i(!1),B(l?"Mettre \xe0 jour avec succ\xe8s":"Cr\xe9er avec succ\xe8s",{variant:"success"}),Object(o.n)(),d(null===(n=c.a.borlette)||void 0===n?void 0:n.blocage_boule)}catch(s){null!==s&&void 0!==s&&s.message?B(null===s||void 0===s?void 0:s.message,{variant:"error"}):alert(JSON.stringify(s)),i(!1),r(s)}}});Object(a.useEffect)((()=>{u(Object(o.n)()),u(Object(o.w)()),u(Object(o.e)())}),[u]);const{errors:w,values:q,touched:M,handleSubmit:E,isSubmitting:N,setFieldValue:R,getFieldProps:W}=C;return Object(_.jsx)(O.b,{value:C,children:Object(_.jsx)(O.a,{noValidate:!0,autoComplete:"off",onSubmit:E,children:Object(_.jsx)(h.a,{container:!0,spacing:3,children:Object(_.jsx)(h.a,{item:!0,xs:12,md:8,children:Object(_.jsx)(v.a,{sx:{p:3},children:Object(_.jsxs)(x.a,{spacing:3,children:[Object(_.jsxs)(x.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(_.jsxs)(m.a,{select:!0,fullWidth:!0,label:"Tirage",placeholder:"Choisir tirage",...W("tirage_id"),SelectProps:{native:!0},error:Boolean(M.tirage_id&&w.tirage_id),children:[Object(_.jsx)("option",{value:""}),null===(t=[{id:0,name:"Tout"},...k])||void 0===t?void 0:t.map((e=>Object(_.jsx)("option",{value:e.id,children:e.name},e.id)))]}),Object(_.jsxs)(m.a,{select:!0,fullWidth:!0,label:"Agent",placeholder:"Choisir Agent",...W("agent_id"),SelectProps:{native:!0},error:Boolean(M.agent_id&&w.agent_id),children:[Object(_.jsx)("option",{value:""}),null===(i=[{id:0,first_name:"Tout"},...S])||void 0===i?void 0:i.map((e=>Object(_.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id)))]})]}),Object(_.jsx)(x.a,{children:Object(_.jsx)(m.a,{fullWidth:!0,disabled:l,label:"Boule",placeholder:"Entrer le boule",...W("boule"),error:Boolean(M.boule&&w.boule)})}),Object(_.jsx)(f.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(_.jsx)(g.a,{type:"submit",variant:"contained",loading:N,children:l?"Sauvegarder les modifications":"Cr\xe9er boule"})})]})})})})})})}function k(){var e;const{themeStretch:t}=Object(s.a)(),{pathname:i}=(Object(n.c)(),Object(r.m)()),{bouleId:a}=Object(r.q)(),{boules:o}=Object(n.d)((e=>e.user)),b=i.includes("edit"),j=o.find((e=>(null===e||void 0===e?void 0:e.id)===Number(a)));return Object(_.jsx)(d.a,{title:"boule: Bloquer un nouvel boule | RLP Center Lotto",children:Object(_.jsxs)(l.a,{maxWidth:!t&&"lg",children:[Object(_.jsx)(u.a,{heading:b?"Modification boule block":"Block Boule",links:[{name:"Dashboard",href:c.a.root},{name:"Boules",href:null===(e=c.a.borlette)||void 0===e?void 0:e.blocage_boule},{name:b?"Modification boule block":"Block Boule"}]}),Object(_.jsx)(B,{isEdit:b,currentBoule:j})]})})}}}]);
//# sourceMappingURL=53.51969113.chunk.js.map