(this.webpackJsonplpcenter=this.webpackJsonplpcenter||[]).push([[33],{1240:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return l}));r(158);var a=r(1250),o=r.n(a);function n(e){return o()(e).format(Number.isInteger(e)?"0,0":"0,0.00")}function i(e){return o()(e/100).format("0.0%")}function c(e){return o()(e).format()}function l(e){return o()(e).format("0.0 b")}},1241:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r(158),o=r(557),n=r(296),i=r(1207),c=r(37),l=r(0);function s(e){let{links:t,action:r,heading:s,moreLink:d=[],sx:u,...b}=e;return Object(l.jsxs)(o.a,{sx:{mb:5,...u},children:[Object(l.jsxs)(o.a,{sx:{display:"flex",alignItems:"center"},children:[Object(l.jsxs)(o.a,{sx:{flexGrow:1},children:[Object(l.jsx)(n.a,{variant:"h4",gutterBottom:!0,children:s}),Object(l.jsx)(c.b,{links:t,...b})]}),r&&Object(l.jsx)(o.a,{sx:{flexShrink:0},children:r})]}),Object(l.jsx)(o.a,{sx:{mt:2},children:Object(a.isString)(d)?Object(l.jsx)(i.a,{href:d,target:"_blank",variant:"body2",children:d}):d.map((e=>Object(l.jsx)(i.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)))})]})}},1252:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var a=r(158),o=r(27),n=r(1245),i=(r(563),r(192),r(1205),r(1192),r(4)),c=r(59),l=r(558),s=r(557),d=r(296),u=(r(1218),r(1215),r(1185),r(1186),r(1216),r(1221),r(1201),r(1240)),b=(r(37),r(191),r(562),r(0));Object(i.a)("div")((e=>{let{theme:t}=e;return{outline:"none",display:"flex",textAlign:"center",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,1),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.neutral,border:"1px dashed ".concat(t.palette.grey[50032]),"&:hover":{opacity:.72,cursor:"pointer"},[t.breakpoints.up("md")]:{textAlign:"left",flexDirection:"row"}}}));Object(i.a)("div")((e=>{let{theme:t}=e;return{outline:"none",display:"flex",overflow:"hidden",textAlign:"center",position:"relative",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,0),borderRadius:t.shape.borderRadius,transition:t.transitions.create("padding"),backgroundColor:t.palette.background.neutral,border:"1px dashed ".concat(t.palette.grey[50032]),"&:hover":{opacity:.72,cursor:"pointer"},[t.breakpoints.up("md")]:{textAlign:"left",flexDirection:"row"}}}));var h=r(1261),p=r.n(h);const m=Object(i.a)("div")((e=>{let{theme:t}=e;return{width:144,height:144,margin:"auto",borderRadius:"50%",padding:t.spacing(1),border:"1px dashed ".concat(t.palette.grey[50032])}})),j=Object(i.a)("div")({zIndex:0,width:"100%",height:"100%",outline:"none",display:"flex",overflow:"hidden",borderRadius:"50%",position:"relative",alignItems:"center",justifyContent:"center","& > *":{width:"100%",height:"100%"},"&:hover":{cursor:"pointer","& .placeholder":{zIndex:9}}}),v=Object(i.a)("div")((e=>{let{theme:t}=e;return{display:"flex",position:"absolute",alignItems:"center",flexDirection:"column",justifyContent:"center",color:t.palette.text.secondary,backgroundColor:t.palette.background.neutral,transition:t.transitions.create("opacity",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&:hover":{opacity:.72}}}));function g(e){let{error:t,file:r,caption:i,sx:h,...g}=e;const{getRootProps:x,getInputProps:O,isDragActive:f,isDragReject:_,fileRejections:y}=Object(n.a)({multiple:!1,...g}),w=()=>Object(b.jsx)(l.a,{variant:"outlined",sx:{py:1,px:2,my:2,borderColor:"error.light",bgcolor:e=>Object(c.a)(e.palette.error.main,.08)},children:y.map((e=>{let{file:t,errors:r}=e;const{path:a,size:o}=t;return Object(b.jsxs)(s.a,{sx:{my:1},children:[Object(b.jsxs)(d.a,{variant:"subtitle2",noWrap:!0,children:[a," - ",Object(u.b)(o)]}),r.map((e=>Object(b.jsxs)(d.a,{variant:"caption",component:"p",children:["- ",e.message]},e.code)))]},a)}))});return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m,{sx:h,children:Object(b.jsxs)(j,{...x(),sx:{...f&&{opacity:.72},...(_||t)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}},children:[Object(b.jsx)("input",{...O()}),r&&Object(b.jsx)(s.a,{component:"img",alt:"avatar",src:Object(a.isString)(r)?r:r.preview,sx:{zIndex:8,objectFit:"cover"}}),Object(b.jsxs)(v,{className:"placeholder",sx:{...r&&{opacity:0,color:"common.white",bgcolor:"grey.900","&:hover":{opacity:.72}}},children:[Object(b.jsx)(s.a,{component:o.a,icon:p.a,sx:{width:24,height:24,mb:1}}),Object(b.jsx)(d.a,{variant:"caption",children:r?"Update photo":"Upload photo"})]})]})}),i,y.length>0&&Object(b.jsx)(w,{})]})}},1266:function(e,t,r){"use strict";var a=r(5),o=r(2),n=r(1),i=r(11),c=r(221),l=r(59),s=r(12),d=r(231),u=r(15),b=r(4),h=r(190),p=r(156);function m(e){return Object(p.a)("MuiSwitch",e)}var j=Object(h.a)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),v=r(0);const g=["className","color","edge","size","sx"],x=Object(b.a)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t["edge".concat(Object(s.a)(r.edge))],t["size".concat(Object(s.a)(r.size))]]}})((e=>{let{ownerState:t}=e;return Object(o.a)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===t.edge&&{marginLeft:-8},"end"===t.edge&&{marginRight:-8},"small"===t.size&&{width:40,height:24,padding:7,["& .".concat(j.thumb)]:{width:16,height:16},["& .".concat(j.switchBase)]:{padding:4,["&.".concat(j.checked)]:{transform:"translateX(16px)"}}})})),O=Object(b.a)(d.a,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{["& .".concat(j.input)]:t.input},"default"!==r.color&&t["color".concat(Object(s.a)(r.color))]]}})((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:"".concat("light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]),transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),["&.".concat(j.checked)]:{transform:"translateX(20px)"},["&.".concat(j.disabled)]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:"".concat("light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600])},["&.".concat(j.checked," + .").concat(j.track)]:{opacity:.5},["&.".concat(j.disabled," + .").concat(j.track)]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:"".concat("light"===t.palette.mode?.12:.2)},["& .".concat(j.input)]:{left:"-100%",width:"300%"}}}),(e=>{let{theme:t,ownerState:r}=e;return Object(o.a)({"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Object(l.a)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&{["&.".concat(j.checked)]:{color:(t.vars||t).palette[r.color].main,"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[r.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Object(l.a)(t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(j.disabled)]:{color:t.vars?t.vars.palette.Switch["".concat(r.color,"DisabledColor")]:"".concat("light"===t.palette.mode?Object(l.e)(t.palette[r.color].main,.62):Object(l.b)(t.palette[r.color].main,.55))}},["&.".concat(j.checked," + .").concat(j.track)]:{backgroundColor:(t.vars||t).palette[r.color].main}})})),f=Object(b.a)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),_=Object(b.a)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),y=n.forwardRef((function(e,t){const r=Object(u.a)({props:e,name:"MuiSwitch"}),{className:n,color:l="primary",edge:d=!1,size:b="medium",sx:h}=r,p=Object(a.a)(r,g),j=Object(o.a)({},r,{color:l,edge:d,size:b}),y=(e=>{const{classes:t,edge:r,size:a,color:n,checked:i,disabled:l}=e,d={root:["root",r&&"edge".concat(Object(s.a)(r)),"size".concat(Object(s.a)(a))],switchBase:["switchBase","color".concat(Object(s.a)(n)),i&&"checked",l&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},u=Object(c.a)(d,m,t);return Object(o.a)({},t,u)})(j),w=Object(v.jsx)(_,{className:y.thumb,ownerState:j});return Object(v.jsxs)(x,{className:Object(i.a)(y.root,n),sx:h,ownerState:j,children:[Object(v.jsx)(O,Object(o.a)({type:"checkbox",icon:w,checkedIcon:w,ref:t,ownerState:j},p,{classes:Object(o.a)({},y,{root:y.switchBase})})),Object(v.jsx)(f,{className:y.track,ownerState:j})]})}));t.a=y},1941:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return D}));var a=r(1),o=r(19),n=r(1226),i=r(103),c=r(63),l=r(22),s=r(91),d=r(380),u=r(1241),b=r(226),h=r(159),p=r(225),m=r(1208),j=r(1255),v=r(1221),g=r(1233),x=r(1236),O=r(1229),f=r(1214),_=r(1232),y=r(1266),w=r(557),k=r(1204),S=r(1911),C=r(27),q=r(383),B=r.n(q),P=(r(192),r(384)),R=r.n(P),A=r(222),z=(r(381),r(1252),r(223)),E=r(297),I=r(46),W=r(76),M=r(0);function N(e){let{isEdit:t,currentAgent:r}=e;const n=Object(o.o)(),{user:s}=Object(I.a)(),d=Object(i.c)(),{enqueueSnackbar:u}=Object(h.b)(),{surcussales:q,countries:P,city:N,tirageConfs:D}=Object(i.d)((e=>e.user)),[T,F]=Object(a.useState)(!1),L=b.d().shape({username:b.e().min(3,"Too Short!").max(10,"Too Long!").required("Username is required"),first_name:b.e().min(2,"Too Short!").max(50,"Too Long!").required("FirstName is required"),last_name:b.e().min(2,"Too Short!").max(50,"Too Long!").required("LastName is required"),c_percent:b.c().integer().required("Percent is required"),sp_c_percent:b.c().integer().required("Percent is required"),phone:b.c().integer().required("Phone number is required"),addresse_complet:b.e().required("Addresse complet is required"),country_id:b.e().required("Country is required"),city_id:b.e().required("City is required"),genre:b.e().required("Genre is required"),surcussale_id:b.e().required("Surcussale is required"),imei:b.e().required("Emei is required"),birth_date:b.b().required("birth date is required").nullable(),password:b.e().nullable().min(6,"Password should be of minimum 6 characters length")}),G=Object(p.c)({enableReinitialize:!0,initialValues:{username:(null===r||void 0===r?void 0:r.username)||null,phone:(null===r||void 0===r?void 0:r.phone)||null,taux_tirage_id:(null===r||void 0===r?void 0:r.taux_tirage)||null,first_name:(null===r||void 0===r?void 0:r.first_name)||null,last_name:(null===r||void 0===r?void 0:r.last_name)||null,c_percent:(null===r||void 0===r?void 0:r.c_percent)||null,sp_c_percent:(null===r||void 0===r?void 0:r.sp_c_percent)||null,birth_date:(null===r||void 0===r?void 0:r.birth_date)||null,addresse_complet:(null===r||void 0===r?void 0:r.addresse_complet)||null,country_id:(null===r||void 0===r?void 0:r.country)||null,city_id:(null===r||void 0===r?void 0:r.city)||null,genre:(null===r||void 0===r?void 0:r.genre)||null,surcussale_id:(null===r||void 0===r?void 0:r.surcussale)||null,imei:(null===r||void 0===r?void 0:r.imei)||null,password:null,block:null===r||void 0===r?void 0:r.block,is_balance:(null===r||void 0===r?void 0:r.is_balance)||null,agentId:null===r||void 0===r?void 0:r.id},validationSchema:L,onSubmit:async(e,r)=>{let{setSubmitting:a,resetForm:o,setErrors:i}=r;const s={...e,birth_date:(null===e||void 0===e?void 0:e.birth_date)&&Object(z.a)(null===e||void 0===e?void 0:e.birth_date)};try{var d;t?await A.a.handleModifyAgent(s):await A.a.handleAddAgent(s),o(),a(!1),u(t?"Mettre \xe0 jour avec succ\xe8s":"Cr\xe9er avec succ\xe8s",{variant:"success"}),Object(c.e)(),n(null===(d=l.a.agent)||void 0===d?void 0:d.list)}catch(b){null!==b&&void 0!==b&&b.message?u(null===b||void 0===b?void 0:b.message,{variant:"error"}):alert(JSON.stringify(b)),a(!1),i(b)}}});Object(a.useEffect)((()=>{d(Object(c.e)()),d(Object(c.G)()),d(Object(c.r)()),d(Object(c.o)()),d(Object(c.H)())}),[d]);const{errors:V,values:J,touched:U,handleSubmit:H,isSubmitting:X,setFieldValue:K,getFieldProps:Q}=G;return Object(M.jsx)(p.b,{value:G,children:Object(M.jsx)(p.a,{noValidate:!0,autoComplete:"off",onSubmit:H,children:Object(M.jsx)(m.a,{container:!0,spacing:3,children:Object(M.jsx)(m.a,{item:!0,xs:12,md:8,children:Object(M.jsx)(j.a,{sx:{p:3},children:Object(M.jsxs)(v.a,{spacing:3,children:[Object(M.jsxs)(v.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(M.jsx)(g.a,{fullWidth:!0,label:"Pseudoname",placeholder:"Entrer le Pseudoname",...Q("username"),error:Boolean(U.username&&V.username)}),Object(M.jsx)(g.a,{fullWidth:!0,label:"Num\xe9ro de t\xe9l\xe9phone",placeholder:"Entrer le num\xe9ro de t\xe9l\xe9phone",...Q("phone"),error:Boolean(U.phone&&V.phone)})]}),Object(M.jsxs)(v.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(M.jsx)(g.a,{fullWidth:!0,label:"Pr\xe9nom",placeholder:"Entrer le pr\xe9nom",...Q("first_name"),error:Boolean(U.first_name&&V.first_name)}),Object(M.jsx)(g.a,{fullWidth:!0,label:"Nom de famille",placeholder:"Entrer le nom de famille",...Q("last_name"),error:Boolean(U.last_name&&V.last_name)})]}),Object(M.jsxs)(v.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(M.jsxs)(g.a,{select:!0,fullWidth:!0,label:"Genre",placeholder:"Choisir le genre",...Q("genre"),SelectProps:{native:!0},error:Boolean(U.genre&&V.genre),children:[Object(M.jsx)("option",{value:""}),[{id:1,code_name:"M",name:"Male"},{id:2,code_name:"F",name:"Female"}].map((e=>Object(M.jsx)("option",{value:e.code_name,children:e.name},e.code_name)))]}),Object(M.jsx)(S.a,{label:"Date de naissance",placeholder:"Entrer la date de naissance",inputFormat:"yyyy-MM-dd",...Q("birth_date"),onChange:e=>K("birth_date",e),renderInput:e=>Object(M.jsx)(g.a,{fullWidth:!0,...e,error:Boolean(U.birth_date&&V.birth_date)})})]}),Boolean(U.birth_date&&V.birth_date)&&Object(M.jsx)(x.a,{sx:{px:2},error:!0,children:V.birth_date}),Object(M.jsxs)(v.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(M.jsx)(g.a,{fullWidth:!0,label:"Commission",placeholder:"Entrer le pourcentage",...Q("c_percent"),error:Boolean(U.c_percent&&V.c_percent)}),Object(M.jsx)(g.a,{fullWidth:!0,label:"Commission Sup",placeholder:"Entrer le pourcentage Sup",...Q("sp_c_percent"),error:Boolean(U.sp_c_percent&&V.sp_c_percent)}),Object(M.jsx)(g.a,{fullWidth:!0,label:"Serie",placeholder:"Entrer la Serie de la machine",...Q("imei"),error:Boolean(U.imei&&V.imei)})]}),Object(M.jsxs)(v.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(M.jsxs)(g.a,{select:!0,fullWidth:!0,label:"Pays",placeholder:"Choisir le Pays",...Q("country_id"),SelectProps:{native:!0},error:Boolean(U.country_id&&V.country_id),children:[Object(M.jsx)("option",{value:""}),null===P||void 0===P?void 0:P.map((e=>Object(M.jsx)("option",{value:e.id,children:e.name},e.id)))]}),Object(M.jsx)(g.a,{fullWidth:!0,label:"Ville",placeholder:"Choisir la ville",...Q("city_id"),error:Boolean(U.city_id&&V.city_id)})]}),Object(M.jsxs)(v.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(M.jsxs)(g.a,{select:!0,fullWidth:!0,label:"Surcussale",placeholder:"Choisir le surcussale",...Q("surcussale_id"),SelectProps:{native:!0},error:Boolean(U.surcussale_id&&V.surcussale_id),children:[Object(M.jsx)("option",{value:""}),null===q||void 0===q?void 0:q.map((e=>Object(M.jsx)("option",{value:e.id,children:e.addresse_complet},e.id)))]}),Object(M.jsx)(g.a,{fullWidth:!0,label:"Addresse complet",placeholder:"Entrer l'addresse complet",...Q("addresse_complet"),error:Boolean(U.addresse_complet&&V.addresse_complet)})]}),Object(M.jsx)(v.a,{children:Object(M.jsx)(g.a,{disabled:!Object(E.a)(null===s||void 0===s?void 0:s.perms,W.a.CHANGE_PASSWORD_AGENT),fullWidth:!0,autoComplete:"current-password",type:T?"text":"password",label:"Mot de passe",...Q("password"),InputProps:{endAdornment:Object(M.jsx)(O.a,{position:"end",children:Object(M.jsx)(f.a,{edge:"end",onClick:()=>F((e=>!e)),children:Object(M.jsx)(C.a,{icon:T?B.a:R.a})})})},error:Boolean(U.password&&V.password)})}),Object(M.jsxs)(v.a,{direction:{xs:"column",md:"row"},spacing:2,children:[Object(M.jsx)(_.a,{control:Object(M.jsx)(y.a,{...Q("block"),checked:null===J||void 0===J?void 0:J.block,color:null!==J&&void 0!==J&&J.block?"success":"primary"}),labelPlacement:"start",label:"Block"}),Object(E.a)(null===s||void 0===s?void 0:s.perms,"change_wallettransaction")&&Object(M.jsx)(_.a,{control:Object(M.jsx)(y.a,{...Q("is_balance"),checked:null===J||void 0===J?void 0:J.is_balance,color:null!==J&&void 0!==J&&J.is_balance?"success":"primary"}),labelPlacement:"start",label:"Balance"})]}),Object(M.jsx)(w.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(M.jsx)(k.a,{type:"submit",variant:"contained",loading:X,children:t?"Sauvegarder les modifications":"Cr\xe9er l'agent"})})]})})})})})})}function D(){var e;const{themeStretch:t}=Object(s.a)(),r=Object(i.c)(),{pathname:b}=Object(o.m)(),{agentId:h}=Object(o.q)(),{agents:p}=Object(i.d)((e=>e.user)),m=b.includes("edit"),j=p.find((e=>(null===e||void 0===e?void 0:e.id)===Number(h))),[v,g]=Object(a.useState)(!1);return Object(a.useEffect)((()=>{j&&g(!0)}),[j]),Object(a.useEffect)((()=>{r(Object(c.e)())}),[]),Object(M.jsx)(d.a,{title:"Agent: Cr\xe9er un nouvel agent | RLP Center Lotto",children:Object(M.jsxs)(n.a,{maxWidth:!t&&"lg",children:[Object(M.jsx)(u.a,{heading:m?"Modifier l'agent":"Cr\xe9er un nouvel agent",links:[{name:"Dashboard",href:l.a.root},{name:"Agent",href:null===(e=l.a.agent)||void 0===e?void 0:e.root},{name:m?"Modification":"Nouvel agent"}]}),(!m||v)&&Object(M.jsx)(N,{isEdit:m,currentAgent:j})]})})}}}]);
//# sourceMappingURL=33.563691ec.chunk.js.map