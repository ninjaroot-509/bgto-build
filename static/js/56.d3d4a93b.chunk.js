(this.webpackJsonplpcenter=this.webpackJsonplpcenter||[]).push([[56],{1241:function(e,i,a){"use strict";a.d(i,"a",(function(){return s}));var t=a(158),n=a(557),r=a(296),d=a(1207),l=a(37),o=a(0);function s(e){let{links:i,action:a,heading:s,moreLink:c=[],sx:m,...u}=e;return Object(o.jsxs)(n.a,{sx:{mb:5,...m},children:[Object(o.jsxs)(n.a,{sx:{display:"flex",alignItems:"center"},children:[Object(o.jsxs)(n.a,{sx:{flexGrow:1},children:[Object(o.jsx)(r.a,{variant:"h4",gutterBottom:!0,children:s}),Object(o.jsx)(l.b,{links:i,...u})]}),a&&Object(o.jsx)(n.a,{sx:{flexShrink:0},children:a})]}),Object(o.jsx)(n.a,{sx:{mt:2},children:Object(t.isString)(c)?Object(o.jsx)(d.a,{href:c,target:"_blank",variant:"body2",children:c}):c.map((e=>Object(o.jsx)(d.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)))})]})}},1951:function(e,i,a){"use strict";a.r(i),a.d(i,"default",(function(){return C}));var t=a(1),n=a(19),r=a(1226),d=a(103),l=a(63),o=a(22),s=a(91),c=a(380),m=a(1241),u=a(226),j=a(159),b=a(225),h=a(1208),x=a(1255),g=a(1221),v=a(1233),O=a(1236),T=a(1232),f=a(1266),p=a(557),S=a(1204),M=a(1907),N=a(222),k=a(223),y=a(0);function w(e){let{isEdit:i,currentInfoTirage:a}=e;const r=Object(n.o)(),s=Object(d.c)(),{enqueueSnackbar:c}=Object(j.b)(),{tirageConfs:m}=Object(d.d)((e=>e.user)),w=e=>{if(null!=e){const i=null===e||void 0===e?void 0:e.split(":");return new Date(2022,1,1,i[0],i[1])}return null},C=u.d().shape({tirage_id:u.e().min(2,"Too Short!").max(50,"Too Long!").required("Name is required"),startTime:u.e().required("startTime is required").nullable(),endTime:u.e().required("endTime is required").nullable()}),A=Object(b.c)({enableReinitialize:!0,initialValues:{tirage_id:(null===a||void 0===a?void 0:a.tirage_id)||null,startTime:w(null===a||void 0===a?void 0:a.start_time)||null,endTime:w(null===a||void 0===a?void 0:a.end_time)||null,block:null===a||void 0===a?void 0:a.block,infoTirageId:null===a||void 0===a?void 0:a.id},validationSchema:C,onSubmit:async(e,a)=>{let{setSubmitting:t,resetForm:n,setErrors:d}=a;const s={...e,startTime:(null===e||void 0===e?void 0:e.startTime)&&Object(k.e)(null===e||void 0===e?void 0:e.startTime),endTime:(null===e||void 0===e?void 0:e.endTime)&&Object(k.e)(null===e||void 0===e?void 0:e.endTime)};try{var m;i?await N.a.handleModifyInfoTirage(s):await N.a.handleAddInfoTirage(s),n(),t(!1),c(i?"Mettre \xe0 jour avec succ\xe8s":"Cr\xe9er avec succ\xe8s",{variant:"success"}),Object(l.w)(),r(null===(m=o.a.tirage)||void 0===m?void 0:m.info_tirage)}catch(u){null!==u&&void 0!==u&&u.message?c(null===u||void 0===u?void 0:u.message,{variant:"error"}):alert(JSON.stringify(u)),t(!1),d(u)}}});Object(t.useEffect)((()=>{s(Object(l.w)()),s(Object(l.H)())}),[s]);const{errors:L,values:G,touched:_,handleSubmit:F,isSubmitting:I,setFieldValue:J,getFieldProps:P}=A;return Object(y.jsx)(b.b,{value:A,children:Object(y.jsx)(b.a,{noValidate:!0,autoComplete:"off",onSubmit:F,children:Object(y.jsx)(h.a,{container:!0,spacing:3,children:Object(y.jsx)(h.a,{item:!0,xs:12,md:8,children:Object(y.jsx)(x.a,{sx:{p:3},children:Object(y.jsxs)(g.a,{spacing:3,children:[Object(y.jsx)(g.a,{spacing:{xs:2,sm:3},direction:{xs:"column",sm:"row"},children:Object(y.jsxs)(v.a,{select:!0,fullWidth:!0,label:"tirage",placeholder:"Choisir le tirage",...P("tirage_id"),SelectProps:{native:!0},error:Boolean(_.tirage_id&&L.tirage_id),children:[Object(y.jsx)("option",{value:""}),[{id:"NYM",name:"New York Midi"},{id:"NYS",name:"New York Soir"},{id:"FLM",name:"Florida Midi"},{id:"FLS",name:"Florida Soir"},{id:"GGMT",name:"Georgia Matin"},{id:"GGMD",name:"Georgia Soir"},{id:"GGS",name:"Georgia Nuit"},{id:"TXMA",name:"Texas Matin"},{id:"TXM",name:"Texas Midi"},{id:"TXS",name:"Texas Soir"},{id:"CGM",name:"Chicago Midi"},{id:"CGS",name:"Chicago Soir"},{id:"LCM",name:"Lave chody\xe8 Matin"},{id:"LCS",name:"Lave chody\xe8 Soir"},{id:"TNM",name:"Tennessee Matin"},{id:"TNMD",name:"Tennessee Midi"},{id:"TNS",name:"Tennessee Soir"},{id:"NJM",name:"New Jersey Matin"},{id:"NJMM",name:"New Jersey Midi"},{id:"NJS",name:"New Jersey Soir"},{id:"ANA",name:"Anguilla AM (10H)"},{id:"ANM",name:"Anguilla Midi"},{id:"ANS",name:"Anguilla Soir"},{id:"ANN",name:"Anguilla Nuit"},{id:"RL",name:"Real"},{id:"PRM",name:"Primera Midi"},{id:"PRS",name:"Primera Soir"},{id:"SUA",name:"Suerte AM"},{id:"SUS",name:"Suerte Soir"},{id:"LK",name:"Loteka"},{id:"KL",name:"King Lottery Noche"},{id:"NA",name:"Nacional Midi"},{id:"NAS",name:"Nacional Soir"},{id:"QPL",name:"Quiniela pal\xe9"}].map((e=>Object(y.jsx)("option",{value:e.id,children:e.name},e.id)))]})}),Object(y.jsxs)(g.a,{spacing:1,children:[Object(y.jsxs)(g.a,{spacing:{xs:2,sm:3},direction:{xs:"column",sm:"row"},children:[Object(y.jsx)(M.a,{label:"Ouverture",placeholder:"Entrer l'heure d'ouverture du tirage",ampm:!1,inputFormat:"HH:mm:ss",...P("startTime"),onChange:e=>J("startTime",e),renderInput:e=>Object(y.jsx)(v.a,{fullWidth:!0,...e,error:Boolean(_.startTime&&L.startTime)})}),Object(y.jsx)(M.a,{label:"Fermeture",placeholder:"Entrer l'heure de fermeture du tirage",ampm:!1,inputFormat:"HH:mm:ss",...P("endTime"),onChange:e=>J("endTime",e),renderInput:e=>Object(y.jsx)(v.a,{fullWidth:!0,...e,error:Boolean(_.endTime&&L.endTime)})})]}),Boolean(_.startTime&&L.startTime)&&Object(y.jsx)(O.a,{sx:{px:2},error:!0,children:L.startTime}),Boolean(_.endTime&&L.endTime)&&Object(y.jsx)(O.a,{sx:{px:2},error:!0,children:L.endTime})]}),Object(y.jsx)(g.a,{direction:{xs:"column",md:"row"},spacing:2,children:Object(y.jsx)(T.a,{control:Object(y.jsx)(f.a,{...P("block"),checked:null===G||void 0===G?void 0:G.block,color:null!==G&&void 0!==G&&G.block?"success":"primary"}),labelPlacement:"start",label:"Block"})}),Object(y.jsx)(p.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(y.jsx)(S.a,{type:"submit",variant:"contained",loading:I,children:i?"Sauvegarder les modifications":"Cr\xe9er tirage"})})]})})})})})})}function C(){var e;const{themeStretch:i}=Object(s.a)(),a=Object(d.c)(),{pathname:u}=Object(n.m)(),{infoTirageId:j}=Object(n.q)(),{infotirages:b}=Object(d.d)((e=>e.user)),h=u.includes("edit"),x=b.find((e=>(null===e||void 0===e?void 0:e.id)===Number(j)));return Object(t.useEffect)((()=>{a(Object(l.w)())}),[a]),Object(y.jsx)(c.a,{title:"Tirage: Cr\xe9er un nouvel tirage | RLP Center Lotto",children:Object(y.jsxs)(r.a,{maxWidth:!i&&"lg",children:[Object(y.jsx)(m.a,{heading:h?"Modifier tirage":"Cr\xe9er un nouvel tirage",links:[{name:"Dashboard",href:o.a.root},{name:"Tirage",href:null===(e=o.a.tirage)||void 0===e?void 0:e.info_tirage},{name:h?"Modification":"Nouvel tirage"}]}),Object(y.jsx)(w,{isEdit:h,currentInfoTirage:x})]})})}}}]);
//# sourceMappingURL=56.d3d4a93b.chunk.js.map