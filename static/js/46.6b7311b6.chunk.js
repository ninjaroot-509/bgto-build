(this.webpackJsonplpcenter=this.webpackJsonplpcenter||[]).push([[46],{1240:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l}));n(158);var a=n(1250),r=n.n(a);function i(e){return r()(e).format(Number.isInteger(e)?"0,0":"0,0.00")}function o(e){return r()(e/100).format("0.0%")}function c(e){return r()(e).format()}function l(e){return r()(e).format("0.0 b")}},1241:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(158),r=n(557),i=n(296),o=n(1207),c=n(37),l=n(0);function s(e){let{links:t,action:n,heading:s,moreLink:d=[],sx:u,...b}=e;return Object(l.jsxs)(r.a,{sx:{mb:5,...u},children:[Object(l.jsxs)(r.a,{sx:{display:"flex",alignItems:"center"},children:[Object(l.jsxs)(r.a,{sx:{flexGrow:1},children:[Object(l.jsx)(i.a,{variant:"h4",gutterBottom:!0,children:s}),Object(l.jsx)(c.b,{links:t,...b})]}),n&&Object(l.jsx)(r.a,{sx:{flexShrink:0},children:n})]}),Object(l.jsx)(r.a,{sx:{mt:2},children:Object(a.isString)(d)?Object(l.jsx)(o.a,{href:d,target:"_blank",variant:"body2",children:d}):d.map((e=>Object(l.jsx)(o.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)))})]})}},1252:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(158),r=n(27),i=n(1245),o=(n(563),n(192),n(1205),n(1192),n(4)),c=n(59),l=n(558),s=n(557),d=n(296),u=(n(1218),n(1215),n(1185),n(1186),n(1216),n(1221),n(1201),n(1240)),b=(n(37),n(191),n(562),n(0));Object(o.a)("div")((e=>{let{theme:t}=e;return{outline:"none",display:"flex",textAlign:"center",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,1),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.neutral,border:"1px dashed ".concat(t.palette.grey[50032]),"&:hover":{opacity:.72,cursor:"pointer"},[t.breakpoints.up("md")]:{textAlign:"left",flexDirection:"row"}}}));Object(o.a)("div")((e=>{let{theme:t}=e;return{outline:"none",display:"flex",overflow:"hidden",textAlign:"center",position:"relative",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,0),borderRadius:t.shape.borderRadius,transition:t.transitions.create("padding"),backgroundColor:t.palette.background.neutral,border:"1px dashed ".concat(t.palette.grey[50032]),"&:hover":{opacity:.72,cursor:"pointer"},[t.breakpoints.up("md")]:{textAlign:"left",flexDirection:"row"}}}));var p=n(1261),j=n.n(p);const m=Object(o.a)("div")((e=>{let{theme:t}=e;return{width:144,height:144,margin:"auto",borderRadius:"50%",padding:t.spacing(1),border:"1px dashed ".concat(t.palette.grey[50032])}})),h=Object(o.a)("div")({zIndex:0,width:"100%",height:"100%",outline:"none",display:"flex",overflow:"hidden",borderRadius:"50%",position:"relative",alignItems:"center",justifyContent:"center","& > *":{width:"100%",height:"100%"},"&:hover":{cursor:"pointer","& .placeholder":{zIndex:9}}}),x=Object(o.a)("div")((e=>{let{theme:t}=e;return{display:"flex",position:"absolute",alignItems:"center",flexDirection:"column",justifyContent:"center",color:t.palette.text.secondary,backgroundColor:t.palette.background.neutral,transition:t.transitions.create("opacity",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&:hover":{opacity:.72}}}));function g(e){let{error:t,file:n,caption:o,sx:p,...g}=e;const{getRootProps:O,getInputProps:v,isDragActive:f,isDragReject:y,fileRejections:C}=Object(i.a)({multiple:!1,...g}),_=()=>Object(b.jsx)(l.a,{variant:"outlined",sx:{py:1,px:2,my:2,borderColor:"error.light",bgcolor:e=>Object(c.a)(e.palette.error.main,.08)},children:C.map((e=>{let{file:t,errors:n}=e;const{path:a,size:r}=t;return Object(b.jsxs)(s.a,{sx:{my:1},children:[Object(b.jsxs)(d.a,{variant:"subtitle2",noWrap:!0,children:[a," - ",Object(u.b)(r)]}),n.map((e=>Object(b.jsxs)(d.a,{variant:"caption",component:"p",children:["- ",e.message]},e.code)))]},a)}))});return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m,{sx:p,children:Object(b.jsxs)(h,{...O(),sx:{...f&&{opacity:.72},...(y||t)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}},children:[Object(b.jsx)("input",{...v()}),n&&Object(b.jsx)(s.a,{component:"img",alt:"avatar",src:Object(a.isString)(n)?n:n.preview,sx:{zIndex:8,objectFit:"cover"}}),Object(b.jsxs)(x,{className:"placeholder",sx:{...n&&{opacity:0,color:"common.white",bgcolor:"grey.900","&:hover":{opacity:.72}}},children:[Object(b.jsx)(s.a,{component:r.a,icon:j.a,sx:{width:24,height:24,mb:1}}),Object(b.jsx)(d.a,{variant:"caption",children:n?"Update photo":"Upload photo"})]})]})}),o,C.length>0&&Object(b.jsx)(_,{})]})}},1942:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var a=n(1),r=n(19),i=n(1226),o=n(103),c=n(63),l=n(22),s=n(91),d=n(380),u=n(1241),b=n(226),p=n(159),j=n(225),m=n(1208),h=n(1255),x=n(1221),g=n(1233),O=n(557),v=n(1204),f=n(1911),y=(n(27),n(383),n(192),n(384),n(4)),C=n(222),_=(n(381),n(1252),n(1240),n(46)),w=n(223),k=n(0);Object(y.a)("div")((e=>{let{theme:t}=e;return{...t.typography.subtitle2,minWidth:160}}));function P(e){let{isEdit:t,currentCompagniePayment:n}=e;const i=Object(r.o)(),s=Object(o.c)(),{user:d}=Object(_.a)(),{compagnies:u}=Object(o.d)((e=>e.user)),{enqueueSnackbar:y}=Object(p.b)(),P=b.d().shape({company_id:b.e().required("compagnie is required"),nb_agent:b.c().required("nombres agents is required"),montant:b.c().required("montant is required"),balance:b.c().required("balance is required")}),I=new Date,S=I.getFullYear(),D=I.getMonth()+1,q=I.getDate()+1,E="".concat(S,"-").concat(D,"-").concat(q),M=Object(j.c)({enableReinitialize:!0,initialValues:{company_id:(null===n||void 0===n?void 0:n.company_id)||null,nb_agent:(null===n||void 0===n?void 0:n.nb_agent)||0,montant:(null===n||void 0===n?void 0:n.montant)||0,balance:(null===n||void 0===n?void 0:n.balance)||0,date:(null===n||void 0===n?void 0:n.created_on)||E,exp_date:(null===n||void 0===n?void 0:n.expiry_date)||E,paymentId:null===n||void 0===n?void 0:n.id},validationSchema:P,onSubmit:async(e,n)=>{let{setSubmitting:a,resetForm:r,setErrors:o}=n;const s={...e,date:Object(w.a)(null===e||void 0===e?void 0:e.date),exp_date:Object(w.a)(null===e||void 0===e?void 0:e.exp_date)};try{t?await C.a.handleModifyCompanyPayment(s):await C.a.handleAddCompanyPayment(s),r(),a(!1),y(t?"Mettre \xe0 jour avec succ\xe8s":"Cr\xe9er avec succ\xe8s",{variant:"success"}),Object(c.q)(),i(l.a.company.companyPayment)}catch(d){null!==d&&void 0!==d&&d.message?y(null===d||void 0===d?void 0:d.message,{variant:"error"}):alert(JSON.stringify(d)),a(!1),o(d)}}});Object(a.useEffect)((()=>{s(Object(c.p)())}),[s]);const{errors:R,values:W,touched:B,handleSubmit:F,isSubmitting:A,setFieldValue:N,getFieldProps:z}=M;return Object(k.jsx)(j.b,{value:M,children:Object(k.jsx)(j.a,{noValidate:!0,autoComplete:"off",onSubmit:F,children:Object(k.jsx)(m.a,{container:!0,spacing:3,children:Object(k.jsx)(m.a,{item:!0,xs:12,md:8,children:Object(k.jsx)(h.a,{sx:{p:3},children:Object(k.jsxs)(x.a,{spacing:3,children:[Object(k.jsxs)(x.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(k.jsxs)(g.a,{select:!0,fullWidth:!0,label:"compagnie",placeholder:"Choisir le compagnie",...z("company_id"),SelectProps:{native:!0},error:Boolean(B.company_id&&R.company_id),children:[Object(k.jsx)("option",{value:""}),null===u||void 0===u?void 0:u.map((e=>Object(k.jsx)("option",{value:e.id,children:e.companyname},e.id)))]}),Object(k.jsx)(g.a,{fullWidth:!0,label:"Nombres agents",placeholder:"Entrer le nombres agents",...z("nb_agent"),error:Boolean(B.nb_agent&&R.nb_agent)})]}),Object(k.jsxs)(x.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(k.jsx)(g.a,{fullWidth:!0,label:"Montant",placeholder:"Entrer le Montant",...z("montant"),error:Boolean(B.montant&&R.montant)}),Object(k.jsx)(g.a,{fullWidth:!0,label:"Balance",placeholder:"Entrer la Balance",...z("balance"),error:Boolean(B.balance&&R.balance)})]}),Object(k.jsxs)(x.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(k.jsx)(f.a,{disabled:t,label:"Date du paiment",placeholder:"Entrer la date du paiment",inputFormat:"yyyy-MM-dd",...z("date"),onChange:e=>N("date",e),renderInput:e=>Object(k.jsx)(g.a,{fullWidth:!0,...e,error:Boolean(B.date&&R.date)})}),Object(k.jsx)(f.a,{label:"Date D'expiration",placeholder:"Entrer la date expiration",inputFormat:"yyyy-MM-dd",...z("exp_date"),onChange:e=>N("exp_date",e),renderInput:e=>Object(k.jsx)(g.a,{fullWidth:!0,...e,error:Boolean(B.exp_date&&R.exp_date)})})]}),Object(k.jsx)(O.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(k.jsx)(v.a,{type:"submit",variant:"contained",loading:A,children:t?"Sauvegarder les modifications":"Cr\xe9er le paiment"})})]})})})})})})}function I(){var e;const{themeStretch:t}=Object(s.a)(),n=Object(o.c)(),{pathname:b}=Object(r.m)(),{paymentId:p}=Object(r.q)(),{companyPayment:j}=Object(o.d)((e=>e.user)),m=b.includes("edit"),h=null===j||void 0===j?void 0:j.find((e=>(null===e||void 0===e?void 0:e.id)===Number(p))),[x,g]=Object(a.useState)(!1);return Object(a.useEffect)((()=>{h&&g(!0)}),[h]),Object(a.useEffect)((()=>{n(Object(c.q)())}),[]),Object(k.jsx)(d.a,{title:"Paiment: Cr\xe9er un nouvel Paiment | RLP Center Lotto",children:Object(k.jsxs)(i.a,{maxWidth:!t&&"lg",children:[Object(k.jsx)(u.a,{heading:m?"Modifier Paiment":"Cr\xe9er un nouvel Paiment",links:[{name:"Dashboard",href:l.a.root},{name:"Paiment",href:null===(e=l.a.company)||void 0===e?void 0:e.companyPayment},{name:m?"Modification":"Nouvel Paiment"}]}),(!m||x)&&Object(k.jsx)(P,{isEdit:m,currentCompagniePayment:h})]})})}}}]);
//# sourceMappingURL=46.6b7311b6.chunk.js.map