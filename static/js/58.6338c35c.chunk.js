(this.webpackJsonplpcenter=this.webpackJsonplpcenter||[]).push([[58],{1413:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return f})),i.d(t,"c",(function(){return z}));var a=i(1561),n=i(1421),l=i(1422),o=i(1423),d=i(1939),r=i(557),c=i(0);function s(e){let{order:t,orderBy:i,rowCount:s,headLabel:u,numSelected:j,onRequestSort:h,onSelectAllClick:b}=e;return Object(c.jsx)(n.a,{children:Object(c.jsx)(l.a,{children:u.map((e=>{return Object(c.jsx)(o.a,{align:e.alignRight?"right":"left",sortDirection:i===e.id&&t,children:Object(c.jsxs)(d.a,{hideSortIcon:!0,active:i===e.id,direction:i===e.id?t:"asc",onClick:(n=e.id,e=>{h(e,n)}),children:[e.label,i===e.id?Object(c.jsx)(r.a,{sx:{...a.a},children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))})})}var u=i(27),j=i(298),h=i.n(j),b=i(4),v=i(1224),x=i(1210),m=i(1229),g=i(1227),O=i(1204);const p=Object(b.a)(v.a)((e=>{let{theme:t}=e;return{height:96,display:"flex",justifyContent:"space-between",padding:t.spacing(0,1,0,3)}})),S=Object(b.a)(x.a)((e=>{let{theme:t}=e;return{width:240,transition:t.transitions.create(["box-shadow","width"],{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&.Mui-focused":{width:320,boxShadow:t.customShadows.z8},"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(t.palette.grey[50032]," !important")}}}));function f(e){let{loading:t,handleGo:i,filterName:a,onFilterName:n}=e;return Object(c.jsxs)(p,{children:[Object(c.jsx)(S,{value:a,onChange:n,placeholder:"Rechercher boule?...",startAdornment:Object(c.jsx)(m.a,{position:"start",children:Object(c.jsx)(r.a,{component:u.a,icon:h.a,sx:{color:"text.disabled"}})})}),Object(c.jsx)(g.a,{title:"Filter list",children:Object(c.jsx)(O.a,{sx:{py:2,px:3},loading:t,variant:"contained",onClick:i,children:"Rafra\xeechir"})})]})}var y=i(1),M=(i(1243),i(1249)),C=i.n(M),w=(i(1262),i(1263),i(1246)),k=i.n(w),L=i(159),P=i(1214),N=i(553),T=i(1230),R=i(1185),A=i(1186),G=i(222),B=i(103),W=i(63),D=(i(22),i(76)),F=i(46),q=i(297);function z(e){let{bouleId:t,boule:i,block:a,handleGo:n}=e;const l=Object(y.useRef)(null),{user:o}=Object(F.a)(),[d,r]=Object(y.useState)(!1),{enqueueSnackbar:s}=Object(L.b)(),j=Object(B.c)();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(P.a,{ref:l,onClick:()=>r(!0),children:Object(c.jsx)(u.a,{icon:k.a,width:20,height:20})}),Object(c.jsx)(N.a,{open:d,anchorEl:l.current,onClose:()=>r(!1),PaperProps:{sx:{width:200,maxWidth:"100%"}},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:Object(q.a)(null===o||void 0===o?void 0:o.perms,D.a.BLOCK_BOULE)&&Object(c.jsxs)(T.a,{onClick:async()=>{r(!1);const e={bouleId:t,boule:i};try{await G.a.handleModifyBouleBlock(e),j(Object(W.n)()),n(),s(a?"Unblock avec succ\xe8s":"Block avec succ\xe8s",{variant:"success"})}catch(l){s("An error occured!",{variant:"error"})}},sx:{color:a?"green":"red"},children:[Object(c.jsx)(R.a,{children:Object(c.jsx)(u.a,{icon:C.a,width:24,height:24})}),Object(c.jsx)(A.a,{primary:a?"Unblock":"Block",primaryTypographyProps:{variant:"body2"}})]})})]})}},1931:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return _}));var a=i(158),n=(i(27),i(1)),l=(i(1242),i(49)),o=i(1226),d=i(1255),r=i(1419),c=i(1420),s=i(1424),u=i(1422),j=i(1423),h=i(1276),b=i(103),v=i(63),x=i(22),m=i(91),g=i(380),O=i(381),p=i(69),S=i(1244),f=i(1241),y=i(1561),M=i(1421),C=i(1939),w=i(557),k=i(0);function L(e){let{order:t,orderBy:i,rowCount:a,headLabel:n,numSelected:l,onRequestSort:o,onSelectAllClick:d}=e;return Object(k.jsx)(M.a,{children:Object(k.jsx)(u.a,{children:n.map((e=>{return Object(k.jsx)(j.a,{align:e.alignRight?"right":"left",sortDirection:i===e.id&&t,children:Object(k.jsxs)(C.a,{hideSortIcon:!0,active:i===e.id,direction:i===e.id?t:"asc",onClick:(a=e.id,e=>{o(e,a)}),children:[e.label,i===e.id?Object(k.jsx)(w.a,{sx:{...y.a},children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var a}))})})}var P=i(1221),N=i(1233),T=i(1230),R=i(1227),A=i(1204),G=i(1911);const B=200;function W(e){var t,i,a,n;let{onChangeDate1:l,onChangeDate2:o,handleGo:d,value:r,value1:c,value2:s,value21:u,value3:j,value4:h,setValue2:b,setValue21:v,setValue3:x,setValue4:m,loading:g,setLoading:O,agents:p,surcussales:S,tirages:f,lottos:y}=e;const M=window.localStorage.getItem("role");return Object(k.jsxs)(P.a,{spacing:2,direction:{xs:"column",md:"row"},sx:{py:2.5,px:3},children:[Object(k.jsx)(N.a,{fullWidth:!0,select:!0,label:"Tirage",value:u,onChange:e=>v(e.target.value),SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{maxWidth:{md:B},textTransform:"capitalize"},children:null===(t=[{id:0,name:"Tout"},...f])||void 0===t?void 0:t.map((e=>Object(k.jsx)(T.a,{value:null===e||void 0===e?void 0:e.id,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)))}),Object(k.jsx)(N.a,{fullWidth:!0,select:!0,label:"Options",value:s,onChange:e=>b(e.target.value),SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{maxWidth:{md:B},textTransform:"capitalize"},children:null===(i=[{id:0,name:"Tout"},...y])||void 0===i?void 0:i.map((e=>Object(k.jsx)(T.a,{value:null===e||void 0===e?void 0:e.id,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)))}),"supervisor"!==M&&Object(k.jsx)(N.a,{fullWidth:!0,select:!0,label:"Surcussale",value:j,onChange:e=>x(e.target.value),SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{maxWidth:{md:B},textTransform:"capitalize"},children:null===(a=[{id:0,addresse_complet:"Tout"},...S])||void 0===a?void 0:a.map((e=>Object(k.jsx)(T.a,{value:null===e||void 0===e?void 0:e.id,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:null===e||void 0===e?void 0:e.addresse_complet},null===e||void 0===e?void 0:e.id)))}),Object(k.jsx)(N.a,{fullWidth:!0,select:!0,label:"Agent",value:h,onChange:e=>m(e.target.value),SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{maxWidth:{md:B},textTransform:"capitalize"},children:null===(n=[{id:0,first_name:"Tout"},...p])||void 0===n?void 0:n.map((e=>Object(k.jsxs)(T.a,{value:null===e||void 0===e?void 0:e.id,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:[null===e||void 0===e?void 0:e.first_name," ",null===e||void 0===e?void 0:e.last_name]},null===e||void 0===e?void 0:e.id)))}),Object(k.jsx)(G.a,{label:"Date de d\xe9but",value:r,inputFormat:"yyyy-MM-dd",onChange:e=>{l(e)},renderInput:e=>Object(k.jsx)(N.a,{...e,fullWidth:!0,sx:{maxWidth:{md:B}}})}),Object(k.jsx)(G.a,{label:"Date de fin",value:c,inputFormat:"yyyy-MM-dd",onChange:e=>{o(e)},renderInput:e=>Object(k.jsx)(N.a,{...e,fullWidth:!0,sx:{maxWidth:{md:B}}})}),Object(k.jsx)(R.a,{title:"Filter list",children:Object(k.jsx)(A.a,{loading:g,variant:"contained",onClick:d,children:"Filtrer"})})]})}i(1243),i(32),i(1249),i(1246),i(1214),i(553),i(1185),i(1186);var D=i(1413),F=i(223),q=i(46);const z=[{id:"type",label:"Type",alignRight:!1},{id:"boule",label:"Boule",alignRight:!1},{id:"quantite",label:"Quantite",alignRight:!1},{id:"montant",label:"Montant",alignRight:!1},{id:"block",label:"Block",alignRight:!1},{id:""}];function I(e,t,i){return t[i]<e[i]?-1:t[i]>e[i]?1:0}const J=[{id:"P2",name:"Pick2"},{id:"L3B",name:"Lotto 3 Box"},{id:"BO",name:"Borlette"},{id:"L3",name:"Lotto 3"},{id:"L4",name:"Lotto 4"},{id:"L5",name:"Lotto 5"},{id:"MA",name:"Mariage"}],V=[{id:"NYM",name:"New York Midi"},{id:"NYS",name:"New York Soir"},{id:"FLM",name:"Florida Midi"},{id:"FLS",name:"Florida Soir"},{id:"GGMT",name:"Georgia Matin"},{id:"GGMD",name:"Georgia Soir"},{id:"GGS",name:"Georgia Nuit"},{id:"TXMA",name:"Texas Matin"},{id:"TXM",name:"Texas Midi"},{id:"TXS",name:"Texas Soir"},{id:"CGM",name:"Chicago Midi"},{id:"CGS",name:"Chicago Soir"},{id:"LCM",name:"Lave chody\xe8 Matin"},{id:"LCS",name:"Lave chody\xe8 Soir"},{id:"TNM",name:"Tennessee Matin"},{id:"TNMD",name:"Tennessee Midi"},{id:"TNS",name:"Tennessee Soir"},{id:"NJM",name:"New Jersey Matin"},{id:"NJMM",name:"New Jersey Midi"},{id:"NJS",name:"New Jersey Soir"},{id:"ANA",name:"Anguilla AM (10H)"},{id:"ANM",name:"Anguilla Midi"},{id:"ANS",name:"Anguilla Soir"},{id:"ANN",name:"Anguilla Nuit"},{id:"RL",name:"Real"},{id:"PRM",name:"Primera Midi"},{id:"PRS",name:"Primera Soir"},{id:"SUA",name:"Suerte AM"},{id:"SUS",name:"Suerte Soir"},{id:"LK",name:"Loteka"},{id:"KL",name:"King Lottery Noche"},{id:"NA",name:"Nacional Midi"},{id:"NAS",name:"Nacional Soir"},{id:"QPL",name:"Quiniela pal\xe9"}];function _(){var e;const{themeStretch:t}=Object(m.a)(),i=Object(l.a)(),{user:y}=Object(q.a)(),M=Object(b.c)(),{statistiques:C,agents:w,surcussales:P,lotto:N,infotirages:T}=Object(b.d)((e=>e.user)),[R,A]=Object(n.useState)(0),[G,B]=Object(n.useState)("asc"),[_,H]=Object(n.useState)([]),[U,K]=Object(n.useState)("boule"),[Q,Y]=Object(n.useState)(new Date),[E,X]=Object(n.useState)(new Date),[Z,$]=Object(n.useState)("superuser"!==(null===y||void 0===y?void 0:y.role)?1:"BO"),[ee,te]=Object(n.useState)(0),[ie,ae]=Object(n.useState)(0),[ne,le]=Object(n.useState)(0),[oe,de]=Object(n.useState)(!1),re=async()=>{de(!0),await M(Object(v.D)(Object(F.a)(Q),Object(F.a)(E),ee,Z,ie,ne)),de(!1)},[ce,se]=Object(n.useState)(""),[ue,je]=Object(n.useState)(25);Object(n.useEffect)((()=>{M(Object(v.e)()),M(Object(v.G)()),M(Object(v.y)()),M(Object(v.w)())}),[M]);const he=R>0?Math.max(0,(1+R)*ue-C.length):0,be=function(e,t,i){const n=null===e||void 0===e?void 0:e.map(((e,t)=>[e,t]));return null===n||void 0===n||n.sort(((e,i)=>{const a=t(e[0],i[0]);return 0!==a?a:e[1]-i[1]})),i?Object(a.filter)(e,(e=>-1!==(null===e||void 0===e?void 0:e.boule.toLowerCase().indexOf(i.toLowerCase())))):null===n||void 0===n?void 0:n.map((e=>e[0]))}(C,function(e,t){return"desc"===e?(e,i)=>I(e,i,t):(e,i)=>-I(e,i,t)}(G,U),ce),ve=0===(null===be||void 0===be?void 0:be.length);return Object(k.jsx)(g.a,{title:"Statistique | RLP Center Lotto",children:Object(k.jsxs)(o.a,{maxWidth:!t&&"lg",children:[Object(k.jsx)(f.a,{heading:"Statistiques",links:[{name:"Dashboard",href:x.a.root},{name:"Statistiques"}]}),Object(k.jsxs)(d.a,{children:[Object(k.jsx)(W,{value:Q,value1:E,value2:Z,value21:ee,value3:ie,value4:ne,setValue2:$,setValue21:te,setValue3:ae,setValue4:le,onChangeDate1:e=>{Y(e)},onChangeDate2:e=>{X(e)},handleGo:re,isStatistiqueNotFound:ve,loading:oe,setLoading:de,agents:w,surcussales:P,lottos:"superuser"!==(null===y||void 0===y?void 0:y.role)?N:J,tirages:"superuser"!==(null===y||void 0===y?void 0:y.role)?T:V}),Object(k.jsx)(p.a,{children:Object(k.jsx)(r.a,{sx:{minWidth:800},children:Object(k.jsxs)(c.a,{children:[Object(k.jsx)(L,{order:G,orderBy:U,headLabel:z,rowCount:null===C||void 0===C?void 0:C.length,numSelected:null===_||void 0===_?void 0:_.length,onRequestSort:(e,t)=>{B(U===t&&"asc"===G?"desc":"asc"),K(t)},onSelectAllClick:e=>{if(e.target.checked){const e=null===C||void 0===C?void 0:C.map((e=>e.id));H(e)}else H([])}}),Object(k.jsxs)(s.a,{children:[null===(e=ue>0?null===be||void 0===be?void 0:be.slice(R*ue,R*ue+ue):be)||void 0===e?void 0:e.map((e=>{const t=-1!==_.indexOf(null===e||void 0===e?void 0:e.id);return Object(k.jsxs)(u.a,{hover:!0,tabIndex:-1,role:"checkbox",selected:t,"aria-checked":t,children:[Object(k.jsx)(j.a,{align:"left",children:null===e||void 0===e?void 0:e.type}),Object(k.jsx)(j.a,{align:"left",children:null===e||void 0===e?void 0:e.boule}),Object(k.jsx)(j.a,{align:"left",children:null===e||void 0===e?void 0:e.quantite}),Object(k.jsx)(j.a,{align:"left",children:parseFloat(null===e||void 0===e?void 0:e.montant).toFixed(2)}),Object(k.jsx)(j.a,{align:"left",children:Object(k.jsx)(O.a,{variant:"light"===i.palette.mode?"ghost":"filled",color:(null===e||void 0===e?void 0:e.block)?"error":"success",children:null!==e&&void 0!==e&&e.block?"Oui":"Non"})}),Object(k.jsx)(j.a,{align:"right",children:Object(k.jsx)(D.c,{boule:null===e||void 0===e?void 0:e.boule,block:null===e||void 0===e?void 0:e.block,handleGo:re})})]},null===e||void 0===e?void 0:e.id)})),he>0&&Object(k.jsx)(u.a,{style:{height:53*he},children:Object(k.jsx)(j.a,{colSpan:6})})]}),ve&&Object(k.jsx)(s.a,{children:Object(k.jsx)(u.a,{children:Object(k.jsx)(j.a,{align:"center",colSpan:6,sx:{py:3},children:Object(k.jsx)(S.a,{searchQuery:ce})})})})]})})}),Object(k.jsx)(h.a,{labelRowsPerPage:"Lignes par page",rowsPerPageOptions:[25,50,75,100,{label:"Tout",value:-1}],component:"div",count:null===C||void 0===C?void 0:C.length,rowsPerPage:ue,page:R,onPageChange:(e,t)=>{A(t)},onRowsPerPageChange:e=>{je(parseInt(e.target.value,10)),A(0)}})]})]})})}}}]);
//# sourceMappingURL=58.6338c35c.chunk.js.map