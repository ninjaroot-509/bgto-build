(this.webpackJsonplpcenter=this.webpackJsonplpcenter||[]).push([[45],{1240:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return c}));r(158);var n=r(1250),i=r.n(n);function a(e){return i()(e).format(Number.isInteger(e)?"0,0":"0,0.00")}function o(e){return i()(e/100).format("0.0%")}function s(e){return i()(e).format()}function c(e){return i()(e).format("0.0 b")}},1241:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(158),i=r(557),a=r(296),o=r(1207),s=r(37),c=r(0);function l(e){let{links:t,action:r,heading:l,moreLink:d=[],sx:u,...b}=e;return Object(c.jsxs)(i.a,{sx:{mb:5,...u},children:[Object(c.jsxs)(i.a,{sx:{display:"flex",alignItems:"center"},children:[Object(c.jsxs)(i.a,{sx:{flexGrow:1},children:[Object(c.jsx)(a.a,{variant:"h4",gutterBottom:!0,children:l}),Object(c.jsx)(s.b,{links:t,...b})]}),r&&Object(c.jsx)(i.a,{sx:{flexShrink:0},children:r})]}),Object(c.jsx)(i.a,{sx:{mt:2},children:Object(n.isString)(d)?Object(c.jsx)(o.a,{href:d,target:"_blank",variant:"body2",children:d}):d.map((e=>Object(c.jsx)(o.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)))})]})}},1252:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n=r(158),i=r(27),a=r(1245),o=(r(563),r(192),r(1205),r(1192),r(4)),s=r(59),c=r(558),l=r(557),d=r(296),u=(r(1218),r(1215),r(1185),r(1186),r(1216),r(1221),r(1201),r(1240)),b=(r(37),r(191),r(562),r(0));Object(o.a)("div")((e=>{let{theme:t}=e;return{outline:"none",display:"flex",textAlign:"center",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,1),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.neutral,border:"1px dashed ".concat(t.palette.grey[50032]),"&:hover":{opacity:.72,cursor:"pointer"},[t.breakpoints.up("md")]:{textAlign:"left",flexDirection:"row"}}}));Object(o.a)("div")((e=>{let{theme:t}=e;return{outline:"none",display:"flex",overflow:"hidden",textAlign:"center",position:"relative",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,0),borderRadius:t.shape.borderRadius,transition:t.transitions.create("padding"),backgroundColor:t.palette.background.neutral,border:"1px dashed ".concat(t.palette.grey[50032]),"&:hover":{opacity:.72,cursor:"pointer"},[t.breakpoints.up("md")]:{textAlign:"left",flexDirection:"row"}}}));var j=r(1261),h=r.n(j);const p=Object(o.a)("div")((e=>{let{theme:t}=e;return{width:144,height:144,margin:"auto",borderRadius:"50%",padding:t.spacing(1),border:"1px dashed ".concat(t.palette.grey[50032])}})),m=Object(o.a)("div")({zIndex:0,width:"100%",height:"100%",outline:"none",display:"flex",overflow:"hidden",borderRadius:"50%",position:"relative",alignItems:"center",justifyContent:"center","& > *":{width:"100%",height:"100%"},"&:hover":{cursor:"pointer","& .placeholder":{zIndex:9}}}),g=Object(o.a)("div")((e=>{let{theme:t}=e;return{display:"flex",position:"absolute",alignItems:"center",flexDirection:"column",justifyContent:"center",color:t.palette.text.secondary,backgroundColor:t.palette.background.neutral,transition:t.transitions.create("opacity",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&:hover":{opacity:.72}}}));function x(e){let{error:t,file:r,caption:o,sx:j,...x}=e;const{getRootProps:O,getInputProps:f,isDragActive:v,isDragReject:y,fileRejections:w}=Object(a.a)({multiple:!1,...x}),k=()=>Object(b.jsx)(c.a,{variant:"outlined",sx:{py:1,px:2,my:2,borderColor:"error.light",bgcolor:e=>Object(s.a)(e.palette.error.main,.08)},children:w.map((e=>{let{file:t,errors:r}=e;const{path:n,size:i}=t;return Object(b.jsxs)(l.a,{sx:{my:1},children:[Object(b.jsxs)(d.a,{variant:"subtitle2",noWrap:!0,children:[n," - ",Object(u.b)(i)]}),r.map((e=>Object(b.jsxs)(d.a,{variant:"caption",component:"p",children:["- ",e.message]},e.code)))]},n)}))});return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(p,{sx:j,children:Object(b.jsxs)(m,{...O(),sx:{...v&&{opacity:.72},...(y||t)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}},children:[Object(b.jsx)("input",{...f()}),r&&Object(b.jsx)(l.a,{component:"img",alt:"avatar",src:Object(n.isString)(r)?r:r.preview,sx:{zIndex:8,objectFit:"cover"}}),Object(b.jsxs)(g,{className:"placeholder",sx:{...r&&{opacity:0,color:"common.white",bgcolor:"grey.900","&:hover":{opacity:.72}}},children:[Object(b.jsx)(l.a,{component:i.a,icon:h.a,sx:{width:24,height:24,mb:1}}),Object(b.jsx)(d.a,{variant:"caption",children:r?"Update photo":"Upload photo"})]})]})}),o,w.length>0&&Object(b.jsx)(k,{})]})}},1943:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return M}));var n=r(1),i=r(19),a=r(1226),o=r(103),s=r(63),c=r(22),l=r(91),d=r(380),u=r(1241),b=r(226),j=r(159),h=r(225),p=r(1208),m=r(1255),g=r(1221),x=r(1233),O=r(557),f=r(1204),v=(r(27),r(383),r(192),r(384),r(4)),y=r(222),w=(r(381),r(1252),r(223),r(46)),k=r(0);Object(v.a)("div")((e=>{let{theme:t}=e;return{...t.typography.subtitle2,minWidth:160}}));function C(e){let{isEdit:t,currentMessage:r}=e;const n=Object(i.o)(),{user:a}=(Object(o.c)(),Object(w.a)()),{enqueueSnackbar:l}=Object(j.b)(),{countries:d,city:u}=Object(o.d)((e=>e.user)),v=[{id:1,code_name:"AGAD",name:"Agent & Admin"},{id:2,code_name:"AD",name:"Admin"},{id:3,code_name:"AG",name:"Agent"}],C=b.d().shape({message:b.e().required("message is required"),..."superuser"===(null===a||void 0===a?void 0:a.role)&&{who:b.e().required("who is required")}}),M=Object(h.c)({enableReinitialize:!0,initialValues:{who:(null===r||void 0===r?void 0:r.who)||null,message:(null===r||void 0===r?void 0:r.text)||null,messageId:null===r||void 0===r?void 0:r.id},validationSchema:C,onSubmit:async(e,r)=>{let{setSubmitting:i,resetForm:a,setErrors:o}=r;const d={...e};try{var u;t?await y.a.handleModifyMessage(d):await y.a.handleAddMessage(d),a(),i(!1),l(t?"Mettre \xe0 jour avec succ\xe8s":"Cr\xe9er avec succ\xe8s",{variant:"success"}),Object(s.z)(),n(null===(u=c.a.user)||void 0===u?void 0:u.promote)}catch(b){null!==b&&void 0!==b&&b.message?l(null===b||void 0===b?void 0:b.message,{variant:"error"}):alert(JSON.stringify(b)),i(!1),o(b)}}}),{errors:S,values:A,touched:I,handleSubmit:R,isSubmitting:D,setFieldValue:q,getFieldProps:z}=M;return Object(k.jsx)(h.b,{value:M,children:Object(k.jsx)(h.a,{noValidate:!0,autoComplete:"off",onSubmit:R,children:Object(k.jsx)(p.a,{container:!0,spacing:3,children:Object(k.jsx)(p.a,{item:!0,xs:12,md:8,children:Object(k.jsx)(m.a,{sx:{p:3},children:Object(k.jsxs)(g.a,{spacing:3,children:["superuser"===(null===a||void 0===a?void 0:a.role)&&Object(k.jsx)(g.a,{children:Object(k.jsxs)(x.a,{select:!0,fullWidth:!0,label:"Pour qui?",placeholder:"Pour qui?",...z("who"),SelectProps:{native:!0},error:Boolean(I.who&&S.who),children:[Object(k.jsx)("option",{value:""}),null===v||void 0===v?void 0:v.map((e=>Object(k.jsx)("option",{value:e.code_name,children:e.name},e.code_name)))]})}),Object(k.jsx)(g.a,{children:Object(k.jsx)(x.a,{fullWidth:!0,multiline:!0,minRows:4,maxRows:4,label:"Message",placeholder:"Entrer le message..?",...z("message"),error:Boolean(I.message&&S.message)})}),Object(k.jsx)(O.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(k.jsx)(f.a,{type:"submit",variant:"contained",loading:D,children:t?"Sauvegarder les modifications":"Cr\xe9er ce message"})})]})})})})})})}function M(){const{themeStretch:e}=Object(l.a)(),t=Object(o.c)(),{pathname:r}=Object(i.m)(),{messageId:b}=Object(i.q)(),{promote:j}=Object(o.d)((e=>e.user)),h=r.includes("edit"),p=null===j||void 0===j?void 0:j.find((e=>(null===e||void 0===e?void 0:e.id)===Number(b))),[m,g]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{p&&g(!0)}),[p]),Object(n.useEffect)((()=>{t(Object(s.z)())}),[]),Object(k.jsx)(d.a,{title:"Message: Cr\xe9er un nouvel Message | RLP Center Lotto",children:Object(k.jsxs)(a.a,{maxWidth:!e&&"lg",children:[Object(k.jsx)(u.a,{heading:h?"Modifier Message":"Cr\xe9er un nouvel Message",links:[{name:"Dashboard",href:c.a.root},{name:"Message",href:c.a.user.promote},{name:h?"Modification":"Nouvel Message"}]}),(!h||m)&&Object(k.jsx)(C,{isEdit:h,currentMessage:p})]})})}}}]);
//# sourceMappingURL=45.ab9b9539.chunk.js.map