(this.webpackJsonplpcenter=this.webpackJsonplpcenter||[]).push([[80],{1919:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return xe}));var i=n(158),a=n(27),c=n(1),o=n(1242),r=n.n(o),l=n(32),s=n(49),d=n(1226),j=n(1201),h=n(1255),b=n(1419),u=n(1420),O=n(1424),v=n(1422),x=n(1423),g=n(1221),p=n(557),m=n(296),y=n(1276),f=n(103),w=n(63),C=n(22),P=n(91),k=n(380),S=n(381),R=n(68),_=n(1244),L=n(1241),I=n(1561),D=n(1421),A=n(1939),B=n(0);function N(e){let{order:t,orderBy:n,rowCount:i,headLabel:a,numSelected:c,onRequestSort:o,onSelectAllClick:r}=e;return Object(B.jsx)(D.a,{children:Object(B.jsx)(v.a,{children:a.map((e=>{return Object(B.jsx)(x.a,{align:e.alignRight?"right":"left",sortDirection:n===e.id&&t,children:Object(B.jsxs)(A.a,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?t:"asc",onClick:(i=e.id,e=>{o(e,i)}),children:[e.label,n===e.id?Object(B.jsx)(p.a,{sx:{...I.a},children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var i}))})})}var W=n(298),F=n.n(W),T=n(4),q=n(1224),z=n(1210),E=n(1229),M=n(1227),G=n(1204);const J=Object(T.a)(q.a)((e=>{let{theme:t}=e;return{height:96,display:"flex",justifyContent:"space-between",padding:t.spacing(0,1,0,3)}})),U=Object(T.a)(z.a)((e=>{let{theme:t}=e;return{width:240,transition:t.transitions.create(["box-shadow","width"],{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&.Mui-focused":{width:320,boxShadow:t.customShadows.z8},"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(t.palette.grey[50032]," !important")}}}));function K(e){let{loading:t,handleGo:n,filterName:i,onFilterName:c}=e;return Object(B.jsxs)(J,{children:[Object(B.jsx)(U,{value:i,onChange:c,placeholder:"Rechercher Pays?...",startAdornment:Object(B.jsx)(E.a,{position:"start",children:Object(B.jsx)(p.a,{component:a.a,icon:F.a,sx:{color:"text.disabled"}})})}),Object(B.jsx)(M.a,{title:"Filter list",children:Object(B.jsx)(G.a,{sx:{py:2,px:3},loading:t,variant:"contained",onClick:n,children:"Rafra\xeechir"})})]})}var Q=n(1243),H=n.n(Q),V=n(1262),X=n.n(V),Y=n(1263),Z=n.n(Y),$=n(1249),ee=n.n($),te=n(1246),ne=n.n(te),ie=n(159),ae=n(1214),ce=n(553),oe=n(1230),re=n(1185),le=n(1186),se=n(222),de=n(76),je=n(46),he=n(297);function be(e){var t;let{block:n,countryId:i}=e;const o=Object(c.useRef)(null),{user:r}=Object(je.a)(),[s,d]=Object(c.useState)(!1),{enqueueSnackbar:j}=Object(ie.b)(),h=Object(f.c)();return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(ae.a,{ref:o,onClick:()=>d(!0),children:Object(B.jsx)(a.a,{icon:ne.a,width:20,height:20})}),Object(B.jsxs)(ce.a,{open:s,anchorEl:o.current,onClose:()=>d(!1),PaperProps:{sx:{width:200,maxWidth:"100%"}},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[Object(he.a)(null===r||void 0===r?void 0:r.perms,"delete_country")&&Object(B.jsxs)(oe.a,{onClick:()=>{window.confirm("\xcates-vous s\xfbr de bien vouloir supprimer?")&&(async()=>{d(!1);const e={countryId:i};await se.a.handleDeleteCountry(e),h(Object(w.r)()),j("delete with success",{variant:"success"})})()},sx:{color:"red"},children:[Object(B.jsx)(re.a,{children:Object(B.jsx)(a.a,{icon:ee.a,width:24,height:24})}),Object(B.jsx)(le.a,{primary:"Delete",primaryTypographyProps:{variant:"body2"}})]}),Object(he.a)(null===r||void 0===r?void 0:r.perms,de.a.BLOCK_SUP)&&Object(B.jsxs)(oe.a,{onClick:async()=>{d(!1);const e={countryId:i,block:n};await se.a.handleModifyCountry(e),h(Object(w.r)()),j(n?"unblock with success":"Block with success",{variant:"success"})},sx:{color:"text.secondary"},children:[Object(B.jsx)(re.a,{children:Object(B.jsx)(a.a,{icon:n?X.a:Z.a,width:24,height:24})}),Object(B.jsx)(le.a,{primary:n?"Unblock":"Block",primaryTypographyProps:{variant:"body2"}})]}),Object(he.a)(null===r||void 0===r?void 0:r.perms,"change_country")&&Object(B.jsxs)(oe.a,{component:l.b,to:"".concat(null===(t=C.a.user)||void 0===t?void 0:t.country,"/").concat(i,"/edit"),sx:{color:"text.secondary"},children:[Object(B.jsx)(re.a,{children:Object(B.jsx)(a.a,{icon:H.a,width:24,height:24})}),Object(B.jsx)(le.a,{primary:"Edit",primaryTypographyProps:{variant:"body2"}})]})]})]})}var ue=n(223);const Oe=[{id:"name",label:"Pays",alignRight:!1},{id:"name_code",label:"Pays Code",alignRight:!1},{id:"devise",label:"Devise",alignRight:!1},{id:"devise_code",label:"Devise Code",alignRight:!1},{id:"is_active",label:"Active",alignRight:!1},{id:"created_on",label:"Date",alignRight:!1},{id:""}];function ve(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function xe(){var e,t;const{user:n}=Object(je.a)(),{themeStretch:o}=Object(P.a)(),I=Object(s.a)(),D=Object(f.c)(),{countries:A}=Object(f.d)((e=>e.user)),[W,F]=Object(c.useState)(0),[T,q]=Object(c.useState)("asc"),[z,E]=Object(c.useState)([]),[M,G]=Object(c.useState)("first_name"),[J,U]=Object(c.useState)(""),[Q,H]=Object(c.useState)(25),[V,X]=Object(c.useState)(!1),Y=async()=>{X(!0),await D(Object(w.r)()),X(!1)};Object(c.useEffect)((()=>{Y()}),[D]);const Z=W>0?Math.max(0,(1+W)*Q-A.length):0,$=function(e,t,n){const a=null===e||void 0===e?void 0:e.map(((e,t)=>[e,t]));return null===a||void 0===a||a.sort(((e,n)=>{const i=t(e[0],n[0]);return 0!==i?i:e[1]-n[1]})),n?Object(i.filter)(e,(e=>-1!==(null===e||void 0===e?void 0:e.first_name.toLowerCase().indexOf(n.toLowerCase())))):null===a||void 0===a?void 0:a.map((e=>e[0]))}(A,function(e,t){return"desc"===e?(e,n)=>ve(e,n,t):(e,n)=>-ve(e,n,t)}(T,M),J),ee=0===(null===$||void 0===$?void 0:$.length);return Object(B.jsx)(k.a,{title:"Pays: List | RLP Center Lotto",children:Object(B.jsxs)(d.a,{maxWidth:!o&&"lg",children:[Object(B.jsx)(L.a,{heading:"Liste des Pays",links:[{name:"Dashboard",href:C.a.root},{name:"Pays",href:C.a.user.country},{name:"Listes"}],action:Object(he.a)(null===n||void 0===n?void 0:n.perms,"add_company")&&Object(B.jsx)(j.a,{variant:"contained",component:l.b,to:null===(e=C.a.user)||void 0===e?void 0:e.newCountry,startIcon:Object(B.jsx)(a.a,{icon:r.a}),children:"Ajouter Pays"})}),Object(B.jsxs)(h.a,{children:[Object(B.jsx)(K,{handleGo:Y,loading:V,filterName:J,onFilterName:e=>{U(e.target.value)}}),Object(B.jsx)(R.a,{children:Object(B.jsx)(b.a,{sx:{minWidth:800},children:Object(B.jsxs)(u.a,{children:[Object(B.jsx)(N,{order:T,orderBy:M,headLabel:Oe,rowCount:null===A||void 0===A?void 0:A.length,numSelected:null===z||void 0===z?void 0:z.length,onRequestSort:(e,t)=>{q(M===t&&"asc"===T?"desc":"asc"),G(t)},onSelectAllClick:e=>{if(e.target.checked){const e=null===A||void 0===A?void 0:A.map((e=>e.id));E(e)}else E([])}}),Object(B.jsxs)(O.a,{children:[null===(t=Q>0?null===$||void 0===$?void 0:$.slice(W*Q,W*Q+Q):$)||void 0===t?void 0:t.map((e=>{const t=-1!==z.indexOf(null===e||void 0===e?void 0:e.id);return Object(B.jsxs)(v.a,{hover:!0,tabIndex:-1,role:"checkbox",selected:t,"aria-checked":t,children:[Object(B.jsx)(x.a,{component:"th",scope:"row",padding:"none",children:Object(B.jsxs)(g.a,{direction:"row",alignItems:"center",spacing:2,children:[Object(B.jsx)(p.a,{component:"img",alt:e.name,src:e.flag,sx:{width:45,height:45,borderradius:8}}),Object(B.jsx)(m.a,{variant:"subtitle2",noWrap:!0,children:null===e||void 0===e?void 0:e.name})]})}),Object(B.jsx)(x.a,{align:"left",children:null===e||void 0===e?void 0:e.name_code}),Object(B.jsx)(x.a,{align:"left",children:null===e||void 0===e?void 0:e.currency}),Object(B.jsx)(x.a,{align:"left",children:null===e||void 0===e?void 0:e.currency_code}),Object(B.jsx)(x.a,{align:"left",children:Object(B.jsx)(S.a,{variant:"light"===I.palette.mode?"ghost":"filled",color:null!==e&&void 0!==e&&e.is_active?"success":"error",children:null!==e&&void 0!==e&&e.is_active?"Oui":"Non"})}),Object(B.jsx)(x.a,{align:"left",children:Object(ue.a)(null===e||void 0===e?void 0:e.created_on)}),Object(B.jsx)(x.a,{align:"right",children:Object(B.jsx)(be,{block:null===e||void 0===e?void 0:e.block,countryId:null===e||void 0===e?void 0:e.id})})]},null===e||void 0===e?void 0:e.id)})),Z>0&&Object(B.jsx)(v.a,{style:{height:53*Z},children:Object(B.jsx)(x.a,{colSpan:6})})]}),ee&&Object(B.jsx)(O.a,{children:Object(B.jsx)(v.a,{children:Object(B.jsx)(x.a,{align:"center",colSpan:6,sx:{py:3},children:Object(B.jsx)(_.a,{searchQuery:J})})})})]})})}),Object(B.jsx)(y.a,{labelRowsPerPage:"Lignes par page",rowsPerPageOptions:[25,50,75,100,{label:"Tout",value:-1}],component:"div",count:null===A||void 0===A?void 0:A.length,rowsPerPage:Q,page:W,onPageChange:(e,t)=>{F(t)},onRowsPerPageChange:e=>{H(parseInt(e.target.value,10)),F(0)}})]})]})})}}}]);
//# sourceMappingURL=80.b84da28f.chunk.js.map