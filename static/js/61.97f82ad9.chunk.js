(this.webpackJsonplpcenter=this.webpackJsonplpcenter||[]).push([[61],{1412:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return J}));var i=n(1561),a=n(1421),o=n(1422),c=n(1423),l=n(1939),r=n(557),s=n(0);function d(e){let{order:t,orderBy:n,rowCount:d,headLabel:j,numSelected:h,onRequestSort:b,onSelectAllClick:u}=e;return Object(s.jsx)(a.a,{children:Object(s.jsx)(o.a,{children:j.map((e=>{return Object(s.jsx)(c.a,{align:e.alignRight?"right":"left",sortDirection:n===e.id&&t,children:Object(s.jsxs)(l.a,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?t:"asc",onClick:(a=e.id,e=>{b(e,a)}),children:[e.label,n===e.id?Object(s.jsx)(r.a,{sx:{...i.a},children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var a}))})})}var j=n(27),h=n(298),b=n.n(h),u=n(4),p=n(1224),v=n(1210),O=n(1229),g=n(1227),x=n(1204);const m=Object(u.a)(p.a)((e=>{let{theme:t}=e;return{height:96,display:"flex",justifyContent:"space-between",padding:t.spacing(0,1,0,3)}})),f=Object(u.a)(v.a)((e=>{let{theme:t}=e;return{width:240,transition:t.transitions.create(["box-shadow","width"],{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&.Mui-focused":{width:320,boxShadow:t.customShadows.z8},"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(t.palette.grey[50032]," !important")}}}));function y(e){let{loading:t,handleGo:n,filterName:i,onFilterName:a}=e;return Object(s.jsxs)(m,{children:[Object(s.jsx)(f,{value:i,onChange:a,placeholder:"Rechercher compagnie?...",startAdornment:Object(s.jsx)(O.a,{position:"start",children:Object(s.jsx)(r.a,{component:j.a,icon:b.a,sx:{color:"text.disabled"}})})}),Object(s.jsx)(g.a,{title:"Filter list",children:Object(s.jsx)(x.a,{sx:{py:2,px:3},loading:t,variant:"contained",onClick:n,children:"Rafra\xeechir"})})]})}var w=n(1),C=n(1243),S=n.n(C),k=(n(1262),n(1263),n(32)),R=n(1249),P=n.n(R),_=n(1246),I=n.n(_),L=n(159),F=n(1214),N=n(553),A=n(1230),W=n(1185),D=n(1186),E=n(222),T=n(103),q=n(63),z=n(22),B=(n(76),n(46)),G=n(297);function J(e){var t;let{block:n,companyId:i}=e;const a=Object(w.useRef)(null),{user:o}=Object(B.a)(),[c,l]=Object(w.useState)(!1),{enqueueSnackbar:r}=Object(L.b)(),d=Object(T.c)();return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(F.a,{ref:a,onClick:()=>l(!0),children:Object(s.jsx)(j.a,{icon:I.a,width:20,height:20})}),Object(s.jsxs)(N.a,{open:c,anchorEl:a.current,onClose:()=>l(!1),PaperProps:{sx:{width:200,maxWidth:"100%"}},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[Object(G.a)(null===o||void 0===o?void 0:o.perms,"delete_company")&&Object(s.jsxs)(A.a,{onClick:()=>{window.confirm("\xcates-vous s\xfbr de bien vouloir supprimer?")&&(async()=>{l(!1);const e={companyId:i};await E.a.handleDeleteCompagnie(e),d(Object(q.p)()),r("delete with success",{variant:"success"})})()},sx:{color:"red"},children:[Object(s.jsx)(W.a,{children:Object(s.jsx)(j.a,{icon:P.a,width:24,height:24})}),Object(s.jsx)(D.a,{primary:"Delete",primaryTypographyProps:{variant:"body2"}})]}),Object(G.a)(null===o||void 0===o?void 0:o.perms,"change_company")&&Object(s.jsxs)(A.a,{component:k.b,to:"".concat(null===(t=z.a.company)||void 0===t?void 0:t.root,"/").concat(i,"/edit"),sx:{color:"text.secondary"},children:[Object(s.jsx)(W.a,{children:Object(s.jsx)(j.a,{icon:S.a,width:24,height:24})}),Object(s.jsx)(D.a,{primary:"Edit",primaryTypographyProps:{variant:"body2"}})]})]})]})}},1880:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var i=n(158),a=n(27),o=n(1),c=n(1242),l=n.n(c),r=n(32),s=n(49),d=n(1226),j=n(1221),h=n(1201),b=n(1255),u=n(1419),p=n(1420),v=n(1424),O=n(1422),g=n(1423),x=n(1206),m=n(296),f=n(1276),y=n(103),w=n(63),C=n(22),S=n(91),k=n(380),R=n(381),P=n(68),_=n(1244),I=n(1241),L=n(1412),F=n(46),N=n(297),A=n(0);const W=[{id:"name",label:"Nom complet",alignRight:!1},{id:"ref_code",label:"Ref_code",alignRight:!1},{id:"satusPay",label:"Expiration",alignRight:!1},{id:"phone",label:"T\xe9l\xe9phone",alignRight:!1},{id:"country",label:"Pays",alignRight:!1},{id:"city",label:"Ville",alignRight:!1},{id:"addresse_complet",label:"Adresse compl\xe8te",alignRight:!1},{id:"block",label:"Block",alignRight:!1},{id:""}];function D(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function E(){var e,t,n,c;const{user:E}=Object(F.a)(),{themeStretch:T}=Object(S.a)(),q=Object(s.a)(),z=Object(y.c)(),{compagnies:B}=Object(y.d)((e=>e.user)),[G,J]=Object(o.useState)(0),[M,Q]=Object(o.useState)("asc"),[V,H]=Object(o.useState)([]),[K,U]=Object(o.useState)("first_name"),[X,Y]=Object(o.useState)(""),[Z,$]=Object(o.useState)(25),[ee,te]=Object(o.useState)(!1),ne=async()=>{te(!0),await z(Object(w.p)()),te(!1)};Object(o.useEffect)((()=>{ne()}),[z]);const ie=G>0?Math.max(0,(1+G)*Z-B.length):0,ae=function(e,t,n){const a=null===e||void 0===e?void 0:e.map(((e,t)=>[e,t]));return null===a||void 0===a||a.sort(((e,n)=>{const i=t(e[0],n[0]);return 0!==i?i:e[1]-n[1]})),n?Object(i.filter)(e,(e=>-1!==(null===e||void 0===e?void 0:e.first_name.toLowerCase().indexOf(n.toLowerCase())))):null===a||void 0===a?void 0:a.map((e=>e[0]))}(B,function(e,t){return"desc"===e?(e,n)=>D(e,n,t):(e,n)=>-D(e,n,t)}(M,K),X),oe=0===(null===ae||void 0===ae?void 0:ae.length);return Object(A.jsx)(k.a,{title:"Compagnies: List | RLP Center Lotto",children:Object(A.jsxs)(d.a,{maxWidth:!T&&"lg",children:[Object(A.jsx)(I.a,{heading:"Liste des Compagnies",links:[{name:"Dashboard",href:C.a.root},{name:"Compagnies",href:null===(e=C.a.company)||void 0===e?void 0:e.root},{name:"Listes"}],action:Object(A.jsxs)(j.a,{direction:{xs:"column",sm:"row"},spacing:1,children:[Object(N.a)(null===E||void 0===E?void 0:E.perms,"add_company")&&Object(A.jsx)(h.a,{variant:"contained",component:r.b,to:null===(t=C.a.company)||void 0===t?void 0:t.newCompany,startIcon:Object(A.jsx)(a.a,{icon:l.a}),children:"Ajouter Compagnie"}),Object(A.jsx)(h.a,{variant:"contained",color:"warning",component:r.b,to:null===(n=C.a.company)||void 0===n?void 0:n.companyFactu,startIcon:Object(A.jsx)(a.a,{icon:l.a}),children:"Facturation"})]})}),Object(A.jsxs)(b.a,{children:[Object(A.jsx)(L.b,{handleGo:ne,loading:ee,filterName:X,onFilterName:e=>{Y(e.target.value)}}),Object(A.jsx)(P.a,{children:Object(A.jsx)(u.a,{sx:{minWidth:800},children:Object(A.jsxs)(p.a,{children:[Object(A.jsx)(L.a,{order:M,orderBy:K,headLabel:W,rowCount:null===B||void 0===B?void 0:B.length,numSelected:null===V||void 0===V?void 0:V.length,onRequestSort:(e,t)=>{Q(K===t&&"asc"===M?"desc":"asc"),U(t)},onSelectAllClick:e=>{if(e.target.checked){const e=null===B||void 0===B?void 0:B.map((e=>e.id));H(e)}else H([])}}),Object(A.jsxs)(v.a,{children:[null===(c=Z>0?null===ae||void 0===ae?void 0:ae.slice(G*Z,G*Z+Z):ae)||void 0===c?void 0:c.map((e=>{const t=-1!==V.indexOf(null===e||void 0===e?void 0:e.id);return Object(A.jsxs)(O.a,{hover:!0,tabIndex:-1,role:"checkbox",selected:t,"aria-checked":t,children:[Object(A.jsx)(g.a,{component:"th",scope:"row",padding:"none",children:Object(A.jsxs)(j.a,{direction:"row",alignItems:"center",spacing:2,children:[Object(A.jsx)(x.a,{alt:null===e||void 0===e?void 0:e.companyname,src:null===e||void 0===e?void 0:e.user_photo}),Object(A.jsx)(m.a,{variant:"subtitle2",noWrap:!0,children:null===e||void 0===e?void 0:e.companyname})]})}),Object(A.jsx)(g.a,{align:"left",children:null===e||void 0===e?void 0:e.ref_code}),Object(A.jsx)(g.a,{align:"left",children:"expired"!==(null===e||void 0===e?void 0:e.status_payment)?"".concat(null===e||void 0===e?void 0:e.status_payment," jours"):null===e||void 0===e?void 0:e.status_payment}),Object(A.jsx)(g.a,{align:"left",children:null===e||void 0===e?void 0:e.phone}),Object(A.jsx)(g.a,{align:"left",children:null===e||void 0===e?void 0:e.country_name}),Object(A.jsx)(g.a,{align:"left",children:null===e||void 0===e?void 0:e.city_name}),Object(A.jsx)(g.a,{align:"left",children:null===e||void 0===e?void 0:e.addresse_complet}),Object(A.jsx)(g.a,{align:"left",children:Object(A.jsx)(R.a,{variant:"light"===q.palette.mode?"ghost":"filled",color:(null===e||void 0===e?void 0:e.block)?"error":"success",children:null!==e&&void 0!==e&&e.block?"Oui":"Non"})}),Object(A.jsx)(g.a,{align:"right",children:Object(A.jsx)(L.c,{block:null===e||void 0===e?void 0:e.block,companyId:null===e||void 0===e?void 0:e.id})})]},null===e||void 0===e?void 0:e.id)})),ie>0&&Object(A.jsx)(O.a,{style:{height:53*ie},children:Object(A.jsx)(g.a,{colSpan:6})})]}),oe&&Object(A.jsx)(v.a,{children:Object(A.jsx)(O.a,{children:Object(A.jsx)(g.a,{align:"center",colSpan:6,sx:{py:3},children:Object(A.jsx)(_.a,{searchQuery:X})})})})]})})}),Object(A.jsx)(f.a,{labelRowsPerPage:"Lignes par page",rowsPerPageOptions:[25,50,75,100,{label:"Tout",value:-1}],component:"div",count:null===B||void 0===B?void 0:B.length,rowsPerPage:Z,page:G,onPageChange:(e,t)=>{J(t)},onRowsPerPageChange:e=>{$(parseInt(e.target.value,10)),J(0)}})]})]})})}}}]);
//# sourceMappingURL=61.97f82ad9.chunk.js.map