(this.webpackJsonplpcenter=this.webpackJsonplpcenter||[]).push([[65],{1243:function(e,t){t.__esModule=!0,t.default={width:24,height:24,body:'<g id="evaEditFill0"><g id="evaEditFill1"><path id="evaEditFill2" fill="currentColor" d="M19.4 7.34L16.66 4.6A2 2 0 0 0 14 4.53l-9 9a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71ZM16 10.68L13.32 8l1.95-2L18 8.73Z"/></g></g>'}},1922:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return he}));var n=a(158),i=a(27),o=a(1),r=a(1242),c=a.n(r),l=a(32),d=a(49),s=a(1226),j=a(1221),u=a(1201),h=a(1255),b=a(1419),g=a(1420),O=a(1424),v=a(1422),x=a(1423),p=a(1206),m=a(296),f=a(1276),y=a(223),w=a(103),C=a(63),S=a(22),L=a(91),D=a(380),P=(a(381),a(69)),k=a(1244),I=a(1241),R=a(1561),_=a(1421),F=a(1939),T=a(557),M=a(0);function W(e){let{order:t,orderBy:a,rowCount:n,headLabel:i,numSelected:o,onRequestSort:r,onSelectAllClick:c}=e;return Object(M.jsx)(_.a,{children:Object(M.jsx)(v.a,{children:i.map((e=>{return Object(M.jsx)(x.a,{align:e.alignRight?"right":"left",sortDirection:a===e.id&&t,children:Object(M.jsxs)(F.a,{hideSortIcon:!0,active:a===e.id,direction:a===e.id?t:"asc",onClick:(n=e.id,e=>{r(e,n)}),children:[e.label,a===e.id?Object(M.jsx)(T.a,{sx:{...R.a},children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))})})}var N=a(298),A=a.n(N),E=(a(1307),a(1308),a(4)),q=a(1224),z=a(1210),G=a(1233),B=a(1229),J=a(1227),Z=a(1204),Q=a(1911);Object(E.a)(q.a)((e=>{let{theme:t}=e;return{height:96,display:"flex",justifyContent:"space-between",padding:t.spacing(0,1,0,3)}}));const H=Object(E.a)(z.a)((e=>{let{theme:t}=e;return{transition:t.transitions.create(["box-shadow","width"],{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&.Mui-focused":{width:300,boxShadow:t.customShadows.z8},"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(t.palette.grey[50032]," !important")}}}));function K(e){let{onChangeDate1:t,onChangeDate2:a,handleGo:n,value:o,value1:r,loading:c,setLoading:l,filterName:d,onFilterName:s}=e;return Object(M.jsxs)(j.a,{spacing:2,direction:{xs:"column",md:"row"},sx:{py:2.5,px:3},children:[Object(M.jsx)(Q.a,{label:"Date de d\xe9but",value:o,inputFormat:"yyyy-MM-dd",onChange:e=>{t(e)},renderInput:e=>Object(M.jsx)(G.a,{...e,fullWidth:!0,sx:{maxWidth:{md:240}}})}),Object(M.jsx)(Q.a,{label:"Date de fin",value:r,inputFormat:"yyyy-MM-dd",onChange:e=>{a(e)},renderInput:e=>Object(M.jsx)(G.a,{...e,fullWidth:!0,sx:{maxWidth:{md:240}}})}),Object(M.jsx)(H,{value:d,onChange:s,placeholder:"Rechercher un Tirage?...",startAdornment:Object(M.jsx)(B.a,{position:"start",children:Object(M.jsx)(T.a,{component:i.a,icon:A.a,sx:{color:"text.disabled"}})})}),Object(M.jsx)(J.a,{title:"Filter list",children:Object(M.jsx)(Z.a,{sx:{py:2,px:3},loading:c,variant:"contained",onClick:n,children:"Filtrer"})})]})}var U=a(1243),V=a.n(U),X=a(1249),Y=a.n(X),$=a(1246),ee=a.n($),te=a(1214),ae=a(553),ne=a(1230),ie=a(1185),oe=a(1186),re=a(159),ce=a(222),le=a(46),de=a(297);function se(e){let{onDelete:t,tirageId:a}=e;const n=Object(o.useRef)(null),{user:r}=Object(le.a)(),[c,d]=Object(o.useState)(!1),{enqueueSnackbar:s}=Object(re.b)();return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(te.a,{ref:n,onClick:()=>d(!0),children:Object(M.jsx)(i.a,{icon:ee.a,width:20,height:20})}),Object(M.jsxs)(ae.a,{open:c,anchorEl:n.current,onClose:()=>d(!1),PaperProps:{sx:{width:200,maxWidth:"100%"}},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[Object(de.a)(null===r||void 0===r?void 0:r.perms,"change_tirage")&&Object(M.jsxs)(ne.a,{component:l.b,to:"".concat(S.a.tirage.root,"/").concat(a,"/edit"),sx:{color:"text.secondary"},children:[Object(M.jsx)(ie.a,{children:Object(M.jsx)(i.a,{icon:V.a,width:24,height:24})}),Object(M.jsx)(oe.a,{primary:"Edit",primaryTypographyProps:{variant:"body2"}})]}),Object(de.a)(null===r||void 0===r?void 0:r.perms,"delete_tirage")&&Object(M.jsxs)(ne.a,{onClick:()=>{window.confirm("\xcates-vous s\xfbr de bien vouloir supprimer?")&&(async()=>{d(!1),await ce.a.handleDeleteTirage(a),t(),s("delete with success",{variant:"success"})})()},sx:{color:"text.secondary"},children:[Object(M.jsx)(ie.a,{children:Object(M.jsx)(i.a,{icon:Y.a,width:24,height:24})}),Object(M.jsx)(oe.a,{primary:"Supprimer",primaryTypographyProps:{variant:"body2"}})]})]})]})}const je=[{id:"name",label:"Nom Tirage",alignRight:!1},{id:"win_number",label:"Numero gagnant",alignRight:!1},{id:"date",label:"Date",alignRight:!1},{id:""}];function ue(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function he(){var e,t,a,r;const{user:R}=Object(le.a)(),{themeStretch:_}=Object(L.a)(),F=(Object(d.a)(),Object(w.c)()),{tirages:T}=Object(w.d)((e=>e.user)),[N,A]=Object(o.useState)(0),[E,q]=Object(o.useState)("asc"),[z,G]=Object(o.useState)([]),[B,J]=Object(o.useState)("name"),[Z,Q]=Object(o.useState)(""),[H,U]=Object(o.useState)(25),[V,X]=Object(o.useState)(new Date),[Y,$]=Object(o.useState)(new Date),[ee,te]=Object(o.useState)(!1),ae=async()=>{te(!0),await F(Object(C.I)(Object(y.a)(V),Object(y.a)(Y))),te(!1)};Object(o.useEffect)((()=>{ae()}),[F]);const ne=N>0?Math.max(0,(1+N)*H-T.length):0,ie=function(e,t,a){const i=null===e||void 0===e?void 0:e.map(((e,t)=>[e,t]));return null===i||void 0===i||i.sort(((e,a)=>{const n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a?Object(n.filter)(e,(e=>-1!==(null===e||void 0===e?void 0:e.name.toLowerCase().indexOf(a.toLowerCase())))):null===i||void 0===i?void 0:i.map((e=>e[0]))}(T,function(e,t){return"desc"===e?(e,a)=>ue(e,a,t):(e,a)=>-ue(e,a,t)}(E,B),Z),oe=0===(null===ie||void 0===ie?void 0:ie.length);return Object(M.jsx)(D.a,{title:"Tirage: List | RLP Center Lotto",children:Object(M.jsxs)(s.a,{maxWidth:!_&&"lg",children:[Object(M.jsx)(I.a,{heading:"Liste des tirages",links:[{name:"Dashboard",href:S.a.root},{name:"Tirage",href:null===(e=S.a.tirage)||void 0===e?void 0:e.root},{name:"Listes"}],action:Object(M.jsxs)(j.a,{direction:{xs:"column",sm:"row"},spacing:1,children:[Object(de.a)(null===R||void 0===R?void 0:R.perms,"add_tirage")&&Object(M.jsx)(u.a,{variant:"contained",component:l.b,to:null===(t=S.a.tirage)||void 0===t?void 0:t.newTirage,startIcon:Object(M.jsx)(i.a,{icon:c.a}),children:"Ajouter lot gagnant"}),Object(de.a)(null===R||void 0===R?void 0:R.perms,"add_tirage_auto")&&Object(M.jsx)(u.a,{variant:"contained",color:"warning",component:l.b,to:null===(a=S.a.tirage)||void 0===a?void 0:a.newTirageAuto,startIcon:Object(M.jsx)(i.a,{icon:c.a}),children:"Lot Gagnant auto"})]})}),Object(M.jsxs)(h.a,{children:[Object(M.jsx)(K,{filterName:Z,onFilterName:e=>{Q(e.target.value)},value:V,value1:Y,onChangeDate1:e=>{X(e)},onChangeDate2:e=>{$(e)},handleGo:ae,loading:ee,setLoading:te}),Object(M.jsx)(P.a,{children:Object(M.jsx)(b.a,{sx:{minWidth:800},children:Object(M.jsxs)(g.a,{children:[Object(M.jsx)(W,{order:E,orderBy:B,headLabel:[..."superuser"===(null===R||void 0===R?void 0:R.role)?[{id:"company",label:"Compagnie",alignRight:!1}]:[],...je],rowCount:null===T||void 0===T?void 0:T.length,numSelected:null===z||void 0===z?void 0:z.length,onRequestSort:(e,t)=>{q(B===t&&"asc"===E?"desc":"asc"),J(t)},onSelectAllClick:e=>{if(e.target.checked){const e=null===T||void 0===T?void 0:T.map((e=>e.id));G(e)}else G([])}}),Object(M.jsxs)(O.a,{children:[null===(r=H>0?null===ie||void 0===ie?void 0:ie.slice(N*H,N*H+H):ie)||void 0===r?void 0:r.map((e=>{const t=-1!==z.indexOf(null===e||void 0===e?void 0:e.id);return Object(M.jsxs)(v.a,{hover:!0,tabIndex:-1,role:"checkbox",selected:t,"aria-checked":t,children:["superuser"===(null===R||void 0===R?void 0:R.role)&&Object(M.jsx)(x.a,{component:"th",scope:"row",padding:"none",children:Object(M.jsxs)(j.a,{direction:"row",alignItems:"center",spacing:2,children:[Object(M.jsx)(p.a,{alt:null===e||void 0===e?void 0:e.companyName,src:null===e||void 0===e?void 0:e.company_photo}),Object(M.jsx)(m.a,{variant:"subtitle2",noWrap:!0,children:null===e||void 0===e?void 0:e.companyName})]})}),Object(M.jsx)(x.a,{align:"left",children:null===e||void 0===e?void 0:e.name}),Object(M.jsxs)(x.a,{align:"left",children:[null===e||void 0===e?void 0:e.tirage_1,"-",null===e||void 0===e?void 0:e.tirage_2,"-",null===e||void 0===e?void 0:e.tirage_3]}),Object(M.jsx)(x.a,{align:"left",children:null===e||void 0===e?void 0:e.date}),Object(M.jsx)(x.a,{align:"right",children:Object(M.jsx)(se,{onDelete:ae,tirageId:null===e||void 0===e?void 0:e.id})})]},null===e||void 0===e?void 0:e.id)})),ne>0&&Object(M.jsx)(v.a,{style:{height:53*ne},children:Object(M.jsx)(x.a,{colSpan:6})})]}),oe&&Object(M.jsx)(O.a,{children:Object(M.jsx)(v.a,{children:Object(M.jsx)(x.a,{align:"center",colSpan:6,sx:{py:3},children:Object(M.jsx)(k.a,{searchQuery:Z})})})})]})})}),Object(M.jsx)(f.a,{labelRowsPerPage:"Lignes par page",rowsPerPageOptions:[25,50,75,100,{label:"Tout",value:-1}],component:"div",count:null===T||void 0===T?void 0:T.length,rowsPerPage:H,page:N,onPageChange:(e,t)=>{A(t)},onRowsPerPageChange:e=>{U(parseInt(e.target.value,10)),A(0)}})]})]})})}}}]);
//# sourceMappingURL=65.4e4a1ae4.chunk.js.map