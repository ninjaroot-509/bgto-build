(this.webpackJsonplpcenter=this.webpackJsonplpcenter||[]).push([[66],{1243:function(e,t){t.__esModule=!0,t.default={width:24,height:24,body:'<g id="evaEditFill0"><g id="evaEditFill1"><path id="evaEditFill2" fill="currentColor" d="M19.4 7.34L16.66 4.6A2 2 0 0 0 14 4.53l-9 9a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71ZM16 10.68L13.32 8l1.95-2L18 8.73Z"/></g></g>'}},1932:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return B}));var a=n(158),i=(n(27),n(1)),l=(n(1242),n(49)),c=n(1226),d=n(1255),o=n(1419),r=n(1420),s=n(1424),j=n(1422),u=n(1423),b=n(1221),h=n(1206),g=n(296),v=n(1276),O=n(103),x=n(63),p=n(22),m=n(91),f=n(380),y=(n(381),n(68)),w=n(1244),C=n(1241),S=n(1561),_=n(1421),L=n(1939),D=n(557),k=n(0);function P(e){let{order:t,orderBy:n,rowCount:a,headLabel:i,numSelected:l,onRequestSort:c,onSelectAllClick:d}=e;return Object(k.jsx)(_.a,{children:Object(k.jsx)(j.a,{children:i.map((e=>{return Object(k.jsx)(u.a,{align:e.alignRight?"right":"left",sortDirection:n===e.id&&t,children:Object(k.jsxs)(L.a,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?t:"asc",onClick:(a=e.id,e=>{c(e,a)}),children:[e.label,n===e.id?Object(k.jsx)(D.a,{sx:{...S.a},children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var a}))})})}n(298),n(1307),n(1308);var R=n(4),A=n(1224),M=n(1233),W=n(1227),F=n(1204),I=n(1911);Object(R.a)(A.a)((e=>{let{theme:t}=e;return{height:96,display:"flex",justifyContent:"space-between",padding:t.spacing(0,1,0,6)}}));function E(e){let{onChangeDate1:t,onChangeDate2:n,handleGo:a,value:i,value1:c,loading:d,setLoading:o}=e;Object(l.a)().palette.mode;return Object(k.jsxs)(b.a,{spacing:2,direction:{xs:"column",md:"row"},sx:{py:2.5,px:3},children:[Object(k.jsx)(I.a,{label:"Date de d\xe9but",value:i,inputFormat:"yyyy-MM-dd",onChange:e=>{t(e)},renderInput:e=>Object(k.jsx)(M.a,{...e,fullWidth:!0,sx:{maxWidth:{md:300}}})}),Object(k.jsx)(I.a,{label:"Date de fin",value:c,inputFormat:"yyyy-MM-dd",onChange:e=>{n(e)},renderInput:e=>Object(k.jsx)(M.a,{...e,fullWidth:!0,sx:{maxWidth:{md:300}}})}),Object(k.jsx)(W.a,{title:"Filter list",children:Object(k.jsx)(F.a,{sx:{py:2,px:3},loading:d,variant:"contained",onClick:a,children:"Filtrer"})})]})}n(1243),n(32),n(1249),n(1246),n(1214),n(553),n(1230),n(1185),n(1186);var J=n(223),N=n(46);const T=[{id:"name",label:"Nom Agent",alignRight:!1},{id:"action_name",label:"Action",alignRight:!1},{id:"date",label:"Date",alignRight:!1},{id:""},{id:""}];function q(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function B(){var e,t;const{user:n}=Object(N.a)(),{themeStretch:S}=Object(m.a)(),_=(Object(l.a)(),Object(O.c)()),{tracabiliteAgent:L}=Object(O.d)((e=>e.user)),[D,R]=Object(i.useState)(0),[A,M]=Object(i.useState)("asc"),[W,F]=Object(i.useState)([]),[I,B]=Object(i.useState)("first_name"),[G,Z]=Object(i.useState)(""),[Q,z]=Object(i.useState)(25),[H,K]=Object(i.useState)(new Date),[U,V]=Object(i.useState)(new Date),[X,Y]=Object(i.useState)(!1),$=async()=>{Y(!0),await _(Object(x.J)(Object(J.a)(H),Object(J.a)(U))),Y(!1)};Object(i.useEffect)((()=>{$()}),[_]);const ee=D>0?Math.max(0,(1+D)*Q-L.length):0,te=function(e,t,n){const i=null===e||void 0===e?void 0:e.map(((e,t)=>[e,t]));return null===i||void 0===i||i.sort(((e,n)=>{const a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n?Object(a.filter)(e,(e=>-1!==(null===e||void 0===e?void 0:e.agent_first_name.toLowerCase().indexOf(n.toLowerCase())))):null===i||void 0===i?void 0:i.map((e=>e[0]))}(L,function(e,t){return"desc"===e?(e,n)=>q(e,n,t):(e,n)=>-q(e,n,t)}(A,I),G),ne=0===(null===te||void 0===te?void 0:te.length);return Object(k.jsx)(f.a,{title:"TracabiliteAgent: List | RLP Center Lotto",children:Object(k.jsxs)(c.a,{maxWidth:!S&&"lg",children:[Object(k.jsx)(C.a,{heading:"Liste des tracabilites agents",links:[{name:"Dashboard",href:p.a.root},{name:"Tracabilite Agent",href:null===(e=p.a.user)||void 0===e?void 0:e.tracabilite_agent},{name:"Listes"}]}),Object(k.jsxs)(d.a,{children:[Object(k.jsx)(E,{value:H,value1:U,onChangeDate1:e=>{K(e)},onChangeDate2:e=>{V(e)},handleGo:$,loading:X,setLoading:Y}),Object(k.jsx)(y.a,{children:Object(k.jsx)(o.a,{sx:{minWidth:800},children:Object(k.jsxs)(r.a,{children:[Object(k.jsx)(P,{order:A,orderBy:I,headLabel:[..."superuser"===(null===n||void 0===n?void 0:n.role)?[{id:"company",label:"Compagnie",alignRight:!1}]:[],...T],rowCount:null===L||void 0===L?void 0:L.length,numSelected:null===W||void 0===W?void 0:W.length,onRequestSort:(e,t)=>{M(I===t&&"asc"===A?"desc":"asc"),B(t)},onSelectAllClick:e=>{if(e.target.checked){const e=null===L||void 0===L?void 0:L.map((e=>e.id));F(e)}else F([])}}),Object(k.jsxs)(s.a,{children:[null===(t=Q>0?null===te||void 0===te?void 0:te.slice(D*Q,D*Q+Q):te)||void 0===t?void 0:t.map((e=>{const t=-1!==W.indexOf(null===e||void 0===e?void 0:e.id);return Object(k.jsxs)(j.a,{hover:!0,tabIndex:-1,role:"checkbox",selected:t,"aria-checked":t,children:["superuser"===(null===n||void 0===n?void 0:n.role)&&Object(k.jsx)(u.a,{component:"th",scope:"row",padding:"none",children:Object(k.jsxs)(b.a,{direction:"row",alignItems:"center",spacing:2,children:[Object(k.jsx)(h.a,{alt:null===e||void 0===e?void 0:e.companyName,src:null===e||void 0===e?void 0:e.company_photo}),Object(k.jsx)(g.a,{variant:"subtitle2",noWrap:!0,children:null===e||void 0===e?void 0:e.companyName})]})}),Object(k.jsx)(u.a,{component:"th",scope:"row",padding:"none",children:Object(k.jsxs)(b.a,{direction:"row",alignItems:"center",spacing:2,children:[Object(k.jsx)(h.a,{alt:null===e||void 0===e?void 0:e.agent_first_name,src:null===e||void 0===e?void 0:e.agent_photo}),Object(k.jsxs)(g.a,{variant:"subtitle2",noWrap:!0,children:[null===e||void 0===e?void 0:e.agent_first_name," ",null===e||void 0===e?void 0:e.agent_last_name]})]})}),Object(k.jsx)(u.a,{align:"left",children:null===e||void 0===e?void 0:e.action_name}),Object(k.jsx)(u.a,{align:"left",children:Object(J.c)(null===e||void 0===e?void 0:e.created_on)})]},null===e||void 0===e?void 0:e.id)})),ee>0&&Object(k.jsx)(j.a,{style:{height:53*ee},children:Object(k.jsx)(u.a,{colSpan:6})})]}),ne&&Object(k.jsx)(s.a,{children:Object(k.jsx)(j.a,{children:Object(k.jsx)(u.a,{align:"center",colSpan:6,sx:{py:3},children:Object(k.jsx)(w.a,{searchQuery:G})})})})]})})}),Object(k.jsx)(v.a,{labelRowsPerPage:"Lignes par page",rowsPerPageOptions:[25,50,75,100,{label:"Tout",value:-1}],component:"div",count:null===L||void 0===L?void 0:L.length,rowsPerPage:Q,page:D,onPageChange:(e,t)=>{R(t)},onRowsPerPageChange:e=>{z(parseInt(e.target.value,10)),R(0)}})]})]})})}}}]);
//# sourceMappingURL=66.d1afdf7c.chunk.js.map