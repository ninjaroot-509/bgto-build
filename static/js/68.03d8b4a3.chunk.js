(this.webpackJsonplpcenter=this.webpackJsonplpcenter||[]).push([[68],{1243:function(e,t){t.__esModule=!0,t.default={width:24,height:24,body:'<g id="evaEditFill0"><g id="evaEditFill1"><path id="evaEditFill2" fill="currentColor" d="M19.4 7.34L16.66 4.6A2 2 0 0 0 14 4.53l-9 9a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71ZM16 10.68L13.32 8l1.95-2L18 8.73Z"/></g></g>'}},1933:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return G}));var a=i(158),n=(i(27),i(1)),l=(i(1242),i(49)),c=i(1226),o=i(1255),d=i(1419),r=i(1420),s=i(1424),u=i(1422),j=i(1423),b=i(1221),h=i(1206),v=i(296),p=i(1276),O=i(103),g=i(63),x=i(22),m=i(91),f=i(380),y=(i(381),i(69)),S=i(1244),w=i(1241),C=i(1561),L=i(1421),_=i(1939),D=i(557),k=i(0);function P(e){let{order:t,orderBy:i,rowCount:a,headLabel:n,numSelected:l,onRequestSort:c,onSelectAllClick:o}=e;return Object(k.jsx)(L.a,{children:Object(k.jsx)(u.a,{children:n.map((e=>{return Object(k.jsx)(j.a,{align:e.alignRight?"right":"left",sortDirection:i===e.id&&t,children:Object(k.jsxs)(_.a,{hideSortIcon:!0,active:i===e.id,direction:i===e.id?t:"asc",onClick:(a=e.id,e=>{c(e,a)}),children:[e.label,i===e.id?Object(k.jsx)(D.a,{sx:{...C.a},children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var a}))})})}i(298),i(1307),i(1308);var R=i(4),M=i(1224),W=i(1233),F=i(1227),I=i(1204),A=i(1911);Object(R.a)(M.a)((e=>{let{theme:t}=e;return{height:96,display:"flex",justifyContent:"space-between",padding:t.spacing(0,1,0,6)}}));function E(e){let{onChangeDate1:t,onChangeDate2:i,handleGo:a,value:n,value1:c,loading:o,setLoading:d}=e;Object(l.a)().palette.mode;return Object(k.jsxs)(b.a,{spacing:2,direction:{xs:"column",md:"row"},sx:{py:2.5,px:3},children:[Object(k.jsx)(A.a,{label:"Date de d\xe9but",value:n,inputFormat:"yyyy-MM-dd",onChange:e=>{t(e)},renderInput:e=>Object(k.jsx)(W.a,{...e,fullWidth:!0,sx:{maxWidth:{md:300}}})}),Object(k.jsx)(A.a,{label:"Date de fin",value:c,inputFormat:"yyyy-MM-dd",onChange:e=>{i(e)},renderInput:e=>Object(k.jsx)(W.a,{...e,fullWidth:!0,sx:{maxWidth:{md:300}}})}),Object(k.jsx)(F.a,{title:"Filter list",children:Object(k.jsx)(I.a,{sx:{py:2,px:3},loading:o,variant:"contained",onClick:a,children:"Filtrer"})})]})}i(1243),i(32),i(1249),i(1246),i(1214),i(553),i(1230),i(1185),i(1186);var N=i(223),T=i(46);const q=[{id:"name",label:"Nom Supervisor",alignRight:!1},{id:"action_name",label:"Action",alignRight:!1},{id:"date",label:"Date",alignRight:!1},{id:""},{id:""}];function B(e,t,i){return t[i]<e[i]?-1:t[i]>e[i]?1:0}function G(){var e,t;const{user:i}=Object(T.a)(),{themeStretch:C}=Object(m.a)(),L=(Object(l.a)(),Object(O.c)()),{tracabiliteSupervisor:_}=Object(O.d)((e=>e.user)),[D,R]=Object(n.useState)(0),[M,W]=Object(n.useState)("asc"),[F,I]=Object(n.useState)([]),[A,G]=Object(n.useState)("first_name"),[J,Z]=Object(n.useState)(""),[Q,z]=Object(n.useState)(25),[H,K]=Object(n.useState)(new Date),[U,V]=Object(n.useState)(new Date),[X,Y]=Object(n.useState)(!1),$=async()=>{Y(!0),await L(Object(g.L)(Object(N.a)(H),Object(N.a)(U))),Y(!1)};Object(n.useEffect)((()=>{$()}),[L]);const ee=D>0?Math.max(0,(1+D)*Q-_.length):0,te=function(e,t,i){const n=null===e||void 0===e?void 0:e.map(((e,t)=>[e,t]));return null===n||void 0===n||n.sort(((e,i)=>{const a=t(e[0],i[0]);return 0!==a?a:e[1]-i[1]})),i?Object(a.filter)(e,(e=>-1!==(null===e||void 0===e?void 0:e.first_name.toLowerCase().indexOf(i.toLowerCase())))):null===n||void 0===n?void 0:n.map((e=>e[0]))}(_,function(e,t){return"desc"===e?(e,i)=>B(e,i,t):(e,i)=>-B(e,i,t)}(M,A),J),ie=0===(null===te||void 0===te?void 0:te.length);return Object(k.jsx)(f.a,{title:"TracabiliteSupervisor: List | RLP Center Lotto",children:Object(k.jsxs)(c.a,{maxWidth:!C&&"lg",children:[Object(k.jsx)(w.a,{heading:"Liste des tracabilites supervisors",links:[{name:"Dashboard",href:x.a.root},{name:"Tracabilite supervisor",href:null===(e=x.a.user)||void 0===e?void 0:e.tracabilite_supervisor},{name:"Listes"}]}),Object(k.jsxs)(o.a,{children:[Object(k.jsx)(E,{value:H,value1:U,onChangeDate1:e=>{K(e)},onChangeDate2:e=>{V(e)},handleGo:$,loading:X,setLoading:Y}),Object(k.jsx)(y.a,{children:Object(k.jsx)(d.a,{sx:{minWidth:800},children:Object(k.jsxs)(r.a,{children:[Object(k.jsx)(P,{order:M,orderBy:A,headLabel:[..."superuser"===(null===i||void 0===i?void 0:i.role)?[{id:"company",label:"Compagnie",alignRight:!1}]:[],...q],rowCount:null===_||void 0===_?void 0:_.length,numSelected:null===F||void 0===F?void 0:F.length,onRequestSort:(e,t)=>{W(A===t&&"asc"===M?"desc":"asc"),G(t)},onSelectAllClick:e=>{if(e.target.checked){const e=null===_||void 0===_?void 0:_.map((e=>e.id));I(e)}else I([])}}),Object(k.jsxs)(s.a,{children:[null===(t=Q>0?null===te||void 0===te?void 0:te.slice(D*Q,D*Q+Q):te)||void 0===t?void 0:t.map((e=>{const t=-1!==F.indexOf(null===e||void 0===e?void 0:e.id);return Object(k.jsxs)(u.a,{hover:!0,tabIndex:-1,role:"checkbox",selected:t,"aria-checked":t,children:["superuser"===(null===i||void 0===i?void 0:i.role)&&Object(k.jsx)(j.a,{component:"th",scope:"row",padding:"none",children:Object(k.jsxs)(b.a,{direction:"row",alignItems:"center",spacing:2,children:[Object(k.jsx)(h.a,{alt:null===e||void 0===e?void 0:e.companyName,src:null===e||void 0===e?void 0:e.company_photo}),Object(k.jsx)(v.a,{variant:"subtitle2",noWrap:!0,children:null===e||void 0===e?void 0:e.companyName})]})}),Object(k.jsx)(j.a,{component:"th",scope:"row",padding:"none",children:Object(k.jsxs)(b.a,{direction:"row",alignItems:"center",spacing:2,children:[Object(k.jsx)(h.a,{alt:null===e||void 0===e?void 0:e.supervisor_first_name,src:null===e||void 0===e?void 0:e.supervisor_photo}),Object(k.jsxs)(v.a,{variant:"subtitle2",noWrap:!0,children:[null===e||void 0===e?void 0:e.supervisor_first_name," ",null===e||void 0===e?void 0:e.supervisor_last_name]})]})}),Object(k.jsx)(j.a,{align:"left",children:null===e||void 0===e?void 0:e.action_name}),Object(k.jsx)(j.a,{align:"left",children:Object(N.c)(null===e||void 0===e?void 0:e.created_on)})]},null===e||void 0===e?void 0:e.id)})),ee>0&&Object(k.jsx)(u.a,{style:{height:53*ee},children:Object(k.jsx)(j.a,{colSpan:6})})]}),ie&&Object(k.jsx)(s.a,{children:Object(k.jsx)(u.a,{children:Object(k.jsx)(j.a,{align:"center",colSpan:6,sx:{py:3},children:Object(k.jsx)(S.a,{searchQuery:J})})})})]})})}),Object(k.jsx)(p.a,{labelRowsPerPage:"Lignes par page",rowsPerPageOptions:[25,50,75,100,{label:"Tout",value:-1}],component:"div",count:null===_||void 0===_?void 0:_.length,rowsPerPage:Q,page:D,onPageChange:(e,t)=>{R(t)},onRowsPerPageChange:e=>{z(parseInt(e.target.value,10)),R(0)}})]})]})})}}}]);
//# sourceMappingURL=68.03d8b4a3.chunk.js.map