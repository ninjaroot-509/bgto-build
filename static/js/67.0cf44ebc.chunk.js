(this.webpackJsonplpcenter=this.webpackJsonplpcenter||[]).push([[67],{1243:function(e,t){t.__esModule=!0,t.default={width:24,height:24,body:'<g id="evaEditFill0"><g id="evaEditFill1"><path id="evaEditFill2" fill="currentColor" d="M19.4 7.34L16.66 4.6A2 2 0 0 0 14 4.53l-9 9a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71ZM16 10.68L13.32 8l1.95-2L18 8.73Z"/></g></g>'}},1934:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return J}));var n=a(158),i=(a(27),a(1)),l=(a(1242),a(49)),c=a(1226),d=a(1255),o=a(1419),r=a(1420),s=a(1424),j=a(1422),u=a(1423),b=a(1221),h=a(1206),v=a(296),O=a(1276),g=a(103),x=a(63),p=a(22),m=a(91),f=a(380),y=(a(381),a(69)),C=a(1244),S=a(1241),w=a(1561),L=a(1421),D=a(1939),k=a(557),P=a(0);function R(e){let{order:t,orderBy:a,rowCount:n,headLabel:i,numSelected:l,onRequestSort:c,onSelectAllClick:d}=e;return Object(P.jsx)(L.a,{children:Object(P.jsx)(j.a,{children:i.map((e=>{return Object(P.jsx)(u.a,{align:e.alignRight?"right":"left",sortDirection:a===e.id&&t,children:Object(P.jsxs)(D.a,{hideSortIcon:!0,active:a===e.id,direction:a===e.id?t:"asc",onClick:(n=e.id,e=>{c(e,n)}),children:[e.label,a===e.id?Object(P.jsx)(k.a,{sx:{...w.a},children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))})})}a(298),a(1307),a(1308);var _=a(4),M=a(1224),F=a(1233),W=a(1227),I=a(1204),A=a(1911);Object(_.a)(M.a)((e=>{let{theme:t}=e;return{height:96,display:"flex",justifyContent:"space-between",padding:t.spacing(0,1,0,6)}}));function E(e){let{onChangeDate1:t,onChangeDate2:a,handleGo:n,value:i,value1:c,loading:d,setLoading:o}=e;Object(l.a)().palette.mode;return Object(P.jsxs)(b.a,{spacing:2,direction:{xs:"column",md:"row"},sx:{py:2.5,px:3},children:[Object(P.jsx)(A.a,{label:"Date de d\xe9but",value:i,inputFormat:"yyyy-MM-dd",onChange:e=>{t(e)},renderInput:e=>Object(P.jsx)(F.a,{...e,fullWidth:!0,sx:{maxWidth:{md:300}}})}),Object(P.jsx)(A.a,{label:"Date de fin",value:c,inputFormat:"yyyy-MM-dd",onChange:e=>{a(e)},renderInput:e=>Object(P.jsx)(F.a,{...e,fullWidth:!0,sx:{maxWidth:{md:300}}})}),Object(P.jsx)(W.a,{title:"Filter list",children:Object(P.jsx)(I.a,{sx:{py:2,px:3},loading:d,variant:"contained",onClick:n,children:"Filtrer"})})]})}a(1243),a(32),a(1249),a(1246),a(1214),a(553),a(1230),a(1185),a(1186);var T=a(223),q=a(46);const B=[{id:"action_name",label:"Action",alignRight:!1},{id:"date",label:"Date",alignRight:!1},{id:""},{id:""}];function G(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function J(){var e,t;const{user:a}=Object(q.a)(),{themeStretch:w}=Object(m.a)(),L=(Object(l.a)(),Object(g.c)()),{tracabiliteCompany:D}=Object(g.d)((e=>e.user)),[k,_]=Object(i.useState)(0),[M,F]=Object(i.useState)("asc"),[W,I]=Object(i.useState)([]),[A,J]=Object(i.useState)("first_name"),[N,Z]=Object(i.useState)(""),[K,Q]=Object(i.useState)(25),[z,H]=Object(i.useState)(new Date),[U,V]=Object(i.useState)(new Date),[X,Y]=Object(i.useState)(!1),$=async()=>{Y(!0),await L(Object(x.K)(Object(T.a)(z),Object(T.a)(U))),Y(!1)};Object(i.useEffect)((()=>{$()}),[L]);const ee=k>0?Math.max(0,(1+k)*K-D.length):0,te=function(e,t,a){const i=null===e||void 0===e?void 0:e.map(((e,t)=>[e,t]));return null===i||void 0===i||i.sort(((e,a)=>{const n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a?Object(n.filter)(e,(e=>-1!==(null===e||void 0===e?void 0:e.first_name.toLowerCase().indexOf(a.toLowerCase())))):null===i||void 0===i?void 0:i.map((e=>e[0]))}(D,function(e,t){return"desc"===e?(e,a)=>G(e,a,t):(e,a)=>-G(e,a,t)}(M,A),N),ae=0===(null===te||void 0===te?void 0:te.length);return Object(P.jsx)(f.a,{title:"Tracabilite Company: List | RLP Center Lotto",children:Object(P.jsxs)(c.a,{maxWidth:!w&&"lg",children:[Object(P.jsx)(S.a,{heading:"Liste des tracabilites compagnie",links:[{name:"Dashboard",href:p.a.root},{name:"Liste Tracabilites",href:null===(e=p.a.user)||void 0===e?void 0:e.tracabilite_company},{name:"Listes"}]}),Object(P.jsxs)(d.a,{children:[Object(P.jsx)(E,{value:z,value1:U,onChangeDate1:e=>{H(e)},onChangeDate2:e=>{V(e)},handleGo:$,loading:X,setLoading:Y}),Object(P.jsx)(y.a,{children:Object(P.jsx)(o.a,{sx:{minWidth:800},children:Object(P.jsxs)(r.a,{children:[Object(P.jsx)(R,{order:M,orderBy:A,headLabel:[..."superuser"===(null===a||void 0===a?void 0:a.role)?[{id:"company",label:"Compagnie",alignRight:!1}]:[],...B],rowCount:null===D||void 0===D?void 0:D.length,numSelected:null===W||void 0===W?void 0:W.length,onRequestSort:(e,t)=>{F(A===t&&"asc"===M?"desc":"asc"),J(t)},onSelectAllClick:e=>{if(e.target.checked){const e=null===D||void 0===D?void 0:D.map((e=>e.id));I(e)}else I([])}}),Object(P.jsxs)(s.a,{children:[null===(t=K>0?null===te||void 0===te?void 0:te.slice(k*K,k*K+K):te)||void 0===t?void 0:t.map((e=>{const t=-1!==W.indexOf(null===e||void 0===e?void 0:e.id);return Object(P.jsxs)(j.a,{hover:!0,tabIndex:-1,role:"checkbox",selected:t,"aria-checked":t,children:["superuser"===(null===a||void 0===a?void 0:a.role)&&Object(P.jsx)(u.a,{component:"th",scope:"row",padding:"none",children:Object(P.jsxs)(b.a,{direction:"row",alignItems:"center",spacing:2,children:[Object(P.jsx)(h.a,{alt:null===e||void 0===e?void 0:e.companyName,src:null===e||void 0===e?void 0:e.company_photo}),Object(P.jsx)(v.a,{variant:"subtitle2",noWrap:!0,children:null===e||void 0===e?void 0:e.companyName})]})}),Object(P.jsx)(u.a,{align:"left",children:null===e||void 0===e?void 0:e.action_name}),Object(P.jsx)(u.a,{align:"left",children:Object(T.c)(null===e||void 0===e?void 0:e.created_on)})]},null===e||void 0===e?void 0:e.id)})),ee>0&&Object(P.jsx)(j.a,{style:{height:53*ee},children:Object(P.jsx)(u.a,{colSpan:6})})]}),ae&&Object(P.jsx)(s.a,{children:Object(P.jsx)(j.a,{children:Object(P.jsx)(u.a,{align:"center",colSpan:6,sx:{py:3},children:Object(P.jsx)(C.a,{searchQuery:N})})})})]})})}),Object(P.jsx)(O.a,{labelRowsPerPage:"Lignes par page",rowsPerPageOptions:[25,50,75,100,{label:"Tout",value:-1}],component:"div",count:null===D||void 0===D?void 0:D.length,rowsPerPage:K,page:k,onPageChange:(e,t)=>{_(t)},onRowsPerPageChange:e=>{Q(parseInt(e.target.value,10)),_(0)}})]})]})})}}}]);
//# sourceMappingURL=67.0cf44ebc.chunk.js.map