(this.webpackJsonplpcenter=this.webpackJsonplpcenter||[]).push([[54],{1241:function(e,i,a){"use strict";a.d(i,"a",(function(){return s}));var t=a(158),r=a(557),n=a(296),o=a(1207),d=a(37),l=a(0);function s(e){let{links:i,action:a,heading:s,moreLink:c=[],sx:u,...j}=e;return Object(l.jsxs)(r.a,{sx:{mb:5,...u},children:[Object(l.jsxs)(r.a,{sx:{display:"flex",alignItems:"center"},children:[Object(l.jsxs)(r.a,{sx:{flexGrow:1},children:[Object(l.jsx)(n.a,{variant:"h4",gutterBottom:!0,children:s}),Object(l.jsx)(d.b,{links:i,...j})]}),a&&Object(l.jsx)(r.a,{sx:{flexShrink:0},children:a})]}),Object(l.jsx)(r.a,{sx:{mt:2},children:Object(t.isString)(c)?Object(l.jsx)(o.a,{href:c,target:"_blank",variant:"body2",children:c}):c.map((e=>Object(l.jsx)(o.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)))})]})}},1255:function(e,i,a){"use strict";var t=a(2),r=a(5),n=a(1),o=a(11),d=a(221),l=a(4),s=a(15),c=a(558),u=a(190),j=a(156);function b(e){return Object(j.a)("MuiCard",e)}Object(u.a)("MuiCard",["root"]);var g=a(0);const m=["className","raised"],h=Object(l.a)(c.a,{name:"MuiCard",slot:"Root",overridesResolver:(e,i)=>i.root})((()=>({overflow:"hidden"}))),v=n.forwardRef((function(e,i){const a=Object(s.a)({props:e,name:"MuiCard"}),{className:n,raised:l=!1}=a,c=Object(r.a)(a,m),u=Object(t.a)({},a,{raised:l}),j=(e=>{const{classes:i}=e;return Object(d.a)({root:["root"]},b,i)})(u);return Object(g.jsx)(h,Object(t.a)({className:Object(o.a)(j.root,n),elevation:l?8:void 0,ref:i,ownerState:u},c))}));i.a=v},1948:function(e,i,a){"use strict";a.r(i),a.d(i,"default",(function(){return k}));var t=a(1),r=a(19),n=a(1226),o=a(103),d=a(63),l=a(22),s=a(91),c=a(380),u=a(1241),j=a(226),b=a(159),g=a(225),m=a(1208),h=a(1255),v=a(1221),O=a(1233),x=a(557),f=a(1204),p=a(1911),S=a(222),M=a(223),_=a(46),N=a(0);const L=[{id:"NYM",name:"New York Midi"},{id:"NYS",name:"New York Soir"},{id:"FLM",name:"Florida Midi"},{id:"FLS",name:"Florida Soir"},{id:"GGMT",name:"Georgia Matin"},{id:"GGMD",name:"Georgia Soir"},{id:"GGS",name:"Georgia Nuit"},{id:"TXMA",name:"Texas Matin"},{id:"TXM",name:"Texas Midi"},{id:"TXS",name:"Texas Soir"},{id:"CGM",name:"Chicago Midi"},{id:"CGS",name:"Chicago Soir"},{id:"LCM",name:"Lave chody\xe8 Matin"},{id:"LCS",name:"Lave chody\xe8 Soir"},{id:"TNM",name:"Tennessee Matin"},{id:"TNMD",name:"Tennessee Midi"},{id:"TNS",name:"Tennessee Soir"},{id:"NJM",name:"New Jersey Matin"},{id:"NJMM",name:"New Jersey Midi"},{id:"NJS",name:"New Jersey Soir"},{id:"ANA",name:"Anguilla AM (10H)"},{id:"ANM",name:"Anguilla Midi"},{id:"ANS",name:"Anguilla Soir"},{id:"ANN",name:"Anguilla Nuit"},{id:"RL",name:"Real"},{id:"PRM",name:"Primera Midi"},{id:"PRS",name:"Primera Soir"},{id:"SUA",name:"Suerte AM"},{id:"SUS",name:"Suerte Soir"},{id:"LK",name:"Loteka"},{id:"KL",name:"King Lottery Noche"},{id:"NA",name:"Nacional Midi"},{id:"NAS",name:"Nacional Soir"},{id:"QPL",name:"Quiniela pal\xe9"}];function y(e){var i,a;let{isEdit:n,currentTirage:s}=e;const{user:c}=Object(_.a)(),u=Object(r.o)(),y=Object(o.c)(),{enqueueSnackbar:k}=Object(b.b)(),{infotirages:A}=Object(o.d)((e=>e.user)),T=j.d().shape({pick2:j.e().nullable().length(2),tirage_1:j.e().required("tirage_1 is required").length(3),tirage_2:j.e().required("tirage_2 is required").length(2),tirage_3:j.e().required("tirage_3 is required").length(2),info_tirage_id:j.e().required("type tirage is required"),date:j.b().required("date is required").nullable()}),w=Object(g.c)({enableReinitialize:!0,initialValues:{pick2:(null===s||void 0===s?void 0:s.pick2)||null,tirage_1:(null===s||void 0===s?void 0:s.tirage_1)||null,tirage_2:(null===s||void 0===s?void 0:s.tirage_2)||null,tirage_3:(null===s||void 0===s?void 0:s.tirage_3)||null,info_tirage_id:(null===s||void 0===s?void 0:s.info_tirage)||null,date:Object(M.b)((null===s||void 0===s?void 0:s.date)||new Date),tirageId:null===s||void 0===s?void 0:s.id},validationSchema:T,onSubmit:async(e,i)=>{let{setSubmitting:a,resetForm:t,setErrors:r}=i;const o={...e,date:Object(M.b)(null===e||void 0===e?void 0:e.date)};try{var s;n?await S.a.handleModifyTirage(o):await S.a.handleAddTirage(o),t(),a(!1),k(n?"Mettre \xe0 jour avec succ\xe8s":"Cr\xe9er avec succ\xe8s",{variant:"success"}),Object(d.I)(),u(null===(s=l.a.tirage)||void 0===s?void 0:s.list)}catch(c){null!==c&&void 0!==c&&c.message?k(null===c||void 0===c?void 0:c.message,{variant:"error"}):alert(JSON.stringify(c)),a(!1),r(c)}}});Object(t.useEffect)((()=>{y(Object(d.I)()),y(Object(d.w)())}),[y]);const{errors:C,values:q,touched:G,handleSubmit:F,isSubmitting:P,setFieldValue:J,getFieldProps:R}=w;return Object(N.jsx)(g.b,{value:w,children:Object(N.jsx)(g.a,{noValidate:!0,autoComplete:"off",onSubmit:F,children:Object(N.jsx)(m.a,{container:!0,spacing:3,children:Object(N.jsx)(m.a,{item:!0,xs:12,md:8,children:Object(N.jsx)(h.a,{sx:{p:3},children:Object(N.jsxs)(v.a,{spacing:3,children:[Object(N.jsxs)(v.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(N.jsxs)(O.a,{select:!0,fullWidth:!0,label:"Tirage",placeholder:"Choisir un tirage",...R("info_tirage_id"),SelectProps:{native:!0},error:Boolean(G.info_tirage_id&&C.info_tirage_id),children:[Object(N.jsx)("option",{value:""}),null===(i="superuser"!==(null===c||void 0===c?void 0:c.role)?A:L)||void 0===i?void 0:i.map((e=>Object(N.jsx)("option",{value:e.id,children:e.name},e.id)))]}),["FLM","FLS"].includes("superuser"!==(null===c||void 0===c?void 0:c.role)?null===A||void 0===A||null===(a=A.find((e=>(null===e||void 0===e?void 0:e.id)===Number(q.info_tirage_id))))||void 0===a?void 0:a.tirage_id:q.info_tirage_id)&&Object(N.jsx)(O.a,{fullWidth:!0,label:"Pick 2",placeholder:"Pick 2",...R("pick2"),error:Boolean(G.pick2&&C.pick2)}),Object(N.jsx)(O.a,{fullWidth:!0,label:"Lotto3 et 1er Lot",placeholder:"Lotto3 et 1er Lot",...R("tirage_1"),error:Boolean(G.tirage_1&&C.tirage_1)})]}),Object(N.jsxs)(v.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(N.jsx)(O.a,{fullWidth:!0,label:"2 \xe8me Lot",placeholder:"2 \xe8me Lot",...R("tirage_2"),error:Boolean(G.tirage_2&&C.tirage_2)}),Object(N.jsx)(O.a,{fullWidth:!0,label:"3 \xe8me Lot",placeholder:"3 \xe8me Lot",...R("tirage_3"),error:Boolean(G.tirage_3&&C.tirage_3)})]}),Object(N.jsx)(v.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:Object(N.jsx)(p.a,{disabled:n,label:"Date du tirage",placeholder:"Entrer la date du tirage",inputFormat:"MM-dd-yyyy",...R("date"),onChange:e=>J("date",e),renderInput:e=>Object(N.jsx)(O.a,{fullWidth:!0,...e,error:Boolean(G.date&&C.date)})})}),Object(N.jsx)(x.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(N.jsx)(f.a,{type:"submit",variant:"contained",loading:P,children:n?"Sauvegarder les modifications":"Ajouter Tirage"})})]})})})})})})}function k(){var e;const{themeStretch:i}=Object(s.a)(),{pathname:a}=(Object(o.c)(),Object(r.m)()),{tirageId:t}=Object(r.q)(),{tirages:d}=Object(o.d)((e=>e.user)),j=a.includes("edit"),b=d.find((e=>(null===e||void 0===e?void 0:e.id)===Number(t)));return Object(N.jsx)(c.a,{title:"Lot gagnants: Ajouter lot gagnants | RLP Center Lotto",children:Object(N.jsxs)(n.a,{maxWidth:!i&&"lg",children:[Object(N.jsx)(u.a,{heading:j?"Modifier lot gagnants":"Ajouter lot gagnants",links:[{name:"Dashboard",href:l.a.root},{name:"Lot gagnants",href:null===(e=l.a.tirage)||void 0===e?void 0:e.root},{name:j?"Modification":"Ajouter lot gagnants"}]}),Object(N.jsx)(y,{isEdit:j,currentTirage:b})]})})}}}]);
//# sourceMappingURL=54.2afe507c.chunk.js.map