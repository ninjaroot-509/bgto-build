(this.webpackJsonplpcenter=this.webpackJsonplpcenter||[]).push([[57],{1413:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return E}));var a=n(1561),i=n(1421),o=n(1422),c=n(1423),l=n(1939),r=n(557),d=n(0);function s(e){let{order:t,orderBy:n,rowCount:s,headLabel:b,numSelected:u,onRequestSort:j,onSelectAllClick:h}=e;return Object(d.jsx)(i.a,{children:Object(d.jsx)(o.a,{children:b.map((e=>{return Object(d.jsx)(c.a,{align:e.alignRight?"right":"left",sortDirection:n===e.id&&t,children:Object(d.jsxs)(l.a,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?t:"asc",onClick:(i=e.id,e=>{j(e,i)}),children:[e.label,n===e.id?Object(d.jsx)(r.a,{sx:{...a.a},children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var i}))})})}var b=n(27),u=n(298),j=n.n(u),h=n(4),O=n(1224),v=n(1210),g=n(1229),x=n(1227),p=n(1204);const m=Object(h.a)(O.a)((e=>{let{theme:t}=e;return{height:96,display:"flex",justifyContent:"space-between",padding:t.spacing(0,1,0,3)}})),f=Object(h.a)(v.a)((e=>{let{theme:t}=e;return{width:240,transition:t.transitions.create(["box-shadow","width"],{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&.Mui-focused":{width:320,boxShadow:t.customShadows.z8},"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(t.palette.grey[50032]," !important")}}}));function k(e){let{loading:t,handleGo:n,filterName:a,onFilterName:i}=e;return Object(d.jsxs)(m,{children:[Object(d.jsx)(f,{value:a,onChange:i,placeholder:"Rechercher boule?...",startAdornment:Object(d.jsx)(g.a,{position:"start",children:Object(d.jsx)(r.a,{component:b.a,icon:j.a,sx:{color:"text.disabled"}})})}),Object(d.jsx)(x.a,{title:"Filter list",children:Object(d.jsx)(p.a,{sx:{py:2,px:3},loading:t,variant:"contained",onClick:n,children:"Rafra\xeechir"})})]})}var w=n(1),y=(n(1243),n(1249)),S=n.n(y),C=(n(1262),n(1263),n(1246)),R=n.n(C),P=n(159),B=n(1214),L=n(553),_=n(1230),I=n(1185),A=n(1186),N=n(222),W=n(103),q=n(63),F=(n(22),n(76)),z=n(46),D=n(297);function E(e){let{bouleId:t,boule:n,block:a,handleGo:i}=e;const o=Object(w.useRef)(null),{user:c}=Object(z.a)(),[l,r]=Object(w.useState)(!1),{enqueueSnackbar:s}=Object(P.b)(),u=Object(W.c)();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(B.a,{ref:o,onClick:()=>r(!0),children:Object(d.jsx)(b.a,{icon:R.a,width:20,height:20})}),Object(d.jsx)(L.a,{open:l,anchorEl:o.current,onClose:()=>r(!1),PaperProps:{sx:{width:200,maxWidth:"100%"}},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:Object(D.a)(null===c||void 0===c?void 0:c.perms,F.a.BLOCK_BOULE)&&Object(d.jsxs)(_.a,{onClick:async()=>{r(!1);const e={bouleId:t,boule:n};try{await N.a.handleModifyBouleBlock(e),u(Object(q.n)()),i(),s(a?"Unblock avec succ\xe8s":"Block avec succ\xe8s",{variant:"success"})}catch(o){s("An error occured!",{variant:"error"})}},sx:{color:a?"green":"red"},children:[Object(d.jsx)(I.a,{children:Object(d.jsx)(b.a,{icon:S.a,width:24,height:24})}),Object(d.jsx)(A.a,{primary:a?"Unblock":"Block",primaryTypographyProps:{variant:"body2"}})]})})]})}},1885:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));var a=n(158),i=n(27),o=n(1),c=n(1242),l=n.n(c),r=n(32),d=n(159),s=n(49),b=n(1226),u=n(1201),j=n(1255),h=n(1419),O=n(1420),v=n(1424),g=n(1422),x=n(1423),p=n(1221),m=n(1206),f=n(296),k=n(1276),w=(n(222),n(223)),y=n(103),S=n(63),C=n(22),R=n(91),P=n(380),B=(n(381),n(69)),L=n(1244),_=n(1241),I=n(1413),A=n(297),N=n(46),W=n(0);const q=[{id:"tirage",label:"Tirage",alignRight:!1},{id:"agent",label:"Agent",alignRight:!1},{id:"boule",label:"Boule",alignRight:!1},{id:"date",label:"Date",alignRight:!1},{id:""}];function F(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function z(){var e,t,n;const{user:c}=Object(N.a)(),{themeStretch:z}=Object(R.a)(),{enqueueSnackbar:D}=(Object(s.a)(),Object(d.b)()),E=Object(y.c)(),{boules:G}=Object(y.d)((e=>e.user)),[M,T]=Object(o.useState)(0),[U,J]=Object(o.useState)("asc"),[K,Q]=Object(o.useState)([]),[H,V]=Object(o.useState)("boule"),[X,Y]=Object(o.useState)(""),[Z,$]=Object(o.useState)(25),[ee,te]=Object(o.useState)(!1),ne=async()=>{te(!0),await E(Object(S.n)()),te(!1)};Object(o.useEffect)((()=>{ne()}),[E]);const ae=M>0?Math.max(0,(1+M)*Z-G.length):0,ie=function(e,t,n){const i=null===e||void 0===e?void 0:e.map(((e,t)=>[e,t]));return null===i||void 0===i||i.sort(((e,n)=>{const a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n?Object(a.filter)(e,(e=>-1!==(null===e||void 0===e?void 0:e.boule.toLowerCase().indexOf(n.toLowerCase())))):null===i||void 0===i?void 0:i.map((e=>e[0]))}(G,function(e,t){return"desc"===e?(e,n)=>F(e,n,t):(e,n)=>-F(e,n,t)}(U,H),X),oe=0===(null===ie||void 0===ie?void 0:ie.length);return Object(W.jsx)(P.a,{title:"Boules block: List | RLP Center Lotto",children:Object(W.jsxs)(b.a,{maxWidth:!z&&"lg",children:[Object(W.jsx)(_.a,{heading:"Liste des boules block",links:[{name:"Dashboard",href:C.a.root},{name:"Boules block",href:null===(e=C.a.borlette)||void 0===e?void 0:e.blocage_boule},{name:"Listes"}],action:Object(A.a)(null===c||void 0===c?void 0:c.perms,"add_bouleblock")&&Object(W.jsx)(u.a,{variant:"contained",component:r.b,to:null===(t=C.a.borlette)||void 0===t?void 0:t.add_blocage_boule,startIcon:Object(W.jsx)(i.a,{icon:l.a}),children:"Ajouter Boule"})}),Object(W.jsxs)(j.a,{children:[Object(W.jsx)(I.b,{handleGo:ne,loading:ee,filterName:X,onFilterName:e=>{Y(e.target.value)}}),Object(W.jsx)(B.a,{children:Object(W.jsx)(h.a,{sx:{minWidth:800},children:Object(W.jsxs)(O.a,{children:[Object(W.jsx)(I.a,{order:U,orderBy:H,headLabel:[..."superuser"===(null===c||void 0===c?void 0:c.role)?[{id:"company",label:"Compagnie",alignRight:!1}]:[],...q],rowCount:null===G||void 0===G?void 0:G.length,numSelected:null===K||void 0===K?void 0:K.length,onRequestSort:(e,t)=>{J(H===t&&"asc"===U?"desc":"asc"),V(t)},onSelectAllClick:e=>{if(e.target.checked){const e=null===G||void 0===G?void 0:G.map((e=>e.id));Q(e)}else Q([])}}),Object(W.jsxs)(v.a,{children:[null===(n=Z>0?null===ie||void 0===ie?void 0:ie.slice(M*Z,M*Z+Z):ie)||void 0===n?void 0:n.map((e=>{const t=-1!==K.indexOf(null===e||void 0===e?void 0:e.id);return Object(W.jsxs)(g.a,{hover:!0,tabIndex:-1,role:"checkbox",selected:t,"aria-checked":t,children:["superuser"===(null===c||void 0===c?void 0:c.role)&&Object(W.jsx)(x.a,{component:"th",scope:"row",padding:"none",children:Object(W.jsxs)(p.a,{direction:"row",alignItems:"center",spacing:2,children:[Object(W.jsx)(m.a,{alt:null===e||void 0===e?void 0:e.companyName,src:null===e||void 0===e?void 0:e.company_photo}),Object(W.jsx)(f.a,{variant:"subtitle2",noWrap:!0,children:null===e||void 0===e?void 0:e.companyName})]})}),Object(W.jsx)(x.a,{align:"left",children:null===e||void 0===e?void 0:e.tirage_name}),Object(W.jsxs)(x.a,{align:"left",children:[null===e||void 0===e?void 0:e.agent_first_name," ",null===e||void 0===e?void 0:e.agent_last_name]}),Object(W.jsx)(x.a,{align:"left",children:null===e||void 0===e?void 0:e.boule}),Object(W.jsx)(x.a,{align:"left",children:Object(w.c)(null===e||void 0===e?void 0:e.updated_on)}),Object(W.jsx)(x.a,{align:"right",children:Object(W.jsx)(I.c,{bouleId:null===e||void 0===e?void 0:e.id,block:"true"})})]},null===e||void 0===e?void 0:e.id)})),ae>0&&Object(W.jsx)(g.a,{style:{height:53*ae},children:Object(W.jsx)(x.a,{colSpan:6})})]}),oe&&Object(W.jsx)(v.a,{children:Object(W.jsx)(g.a,{children:Object(W.jsx)(x.a,{align:"center",colSpan:6,sx:{py:3},children:Object(W.jsx)(L.a,{searchQuery:X})})})})]})})}),Object(W.jsx)(k.a,{labelRowsPerPage:"Lignes par page",rowsPerPageOptions:[25,50,75,100,{label:"Tout",value:-1}],component:"div",count:null===G||void 0===G?void 0:G.length,rowsPerPage:Z,page:M,onPageChange:(e,t)=>{T(t)},onRowsPerPageChange:e=>{$(parseInt(e.target.value,10)),T(0)}})]})]})})}}}]);
//# sourceMappingURL=57.e4d14c00.chunk.js.map