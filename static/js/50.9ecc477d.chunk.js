(this.webpackJsonplpcenter=this.webpackJsonplpcenter||[]).push([[50],{1241:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var l=o(158),i=o(557),r=o(296),a=o(1207),n=o(37),d=o(0);function c(e){let{links:t,action:o,heading:c,moreLink:u=[],sx:s,..._}=e;return Object(d.jsxs)(i.a,{sx:{mb:5,...s},children:[Object(d.jsxs)(i.a,{sx:{display:"flex",alignItems:"center"},children:[Object(d.jsxs)(i.a,{sx:{flexGrow:1},children:[Object(d.jsx)(r.a,{variant:"h4",gutterBottom:!0,children:c}),Object(d.jsx)(n.b,{links:t,..._})]}),o&&Object(d.jsx)(i.a,{sx:{flexShrink:0},children:o})]}),Object(d.jsx)(i.a,{sx:{mt:2},children:Object(l.isString)(u)?Object(d.jsx)(a.a,{href:u,target:"_blank",variant:"body2",children:u}):u.map((e=>Object(d.jsx)(a.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)))})]})}},1242:function(e,t){t.__esModule=!0,t.default={width:24,height:24,body:'<g id="evaPlusFill0"><g id="evaPlusFill1"><path id="evaPlusFill2" fill="currentColor" d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2Z"/></g></g>'}},1255:function(e,t,o){"use strict";var l=o(2),i=o(5),r=o(1),a=o(11),n=o(221),d=o(4),c=o(15),u=o(558),s=o(190),_=o(156);function b(e){return Object(_.a)("MuiCard",e)}Object(s.a)("MuiCard",["root"]);var g=o(0);const j=["className","raised"],m=Object(d.a)(u.a,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),p=r.forwardRef((function(e,t){const o=Object(c.a)({props:e,name:"MuiCard"}),{className:r,raised:d=!1}=o,u=Object(i.a)(o,j),s=Object(l.a)({},o,{raised:d}),_=(e=>{const{classes:t}=e;return Object(n.a)({root:["root"]},b,t)})(s);return Object(g.jsx)(m,Object(l.a)({className:Object(a.a)(_.root,r),elevation:d?8:void 0,ref:t,ownerState:s},u))}));t.a=p},1958:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return C}));var l=o(1),i=o(19),r=(o(27),o(1242),o(1226)),a=o(103),n=o(63),d=o(22),c=o(91),u=o(380),s=o(1241),_=o(226),b=o(159),g=o(225),j=o(1208),m=o(1255),p=o(1221),v=o(1233),h=o(557),x=o(1204),f=o(222),O=o(46),q=o(0);function E(e){var t,o;let{currentConf:r,type:c,isEdit:u}=e;const s=Object(i.o)(),{user:E}=Object(O.a)(),C=Object(a.c)(),{enqueueSnackbar:W}=Object(b.b)(),{infotirages:B,agents:w}=Object(a.d)((e=>e.user)),k=_.d().shape({configuration_id:_.c().required("configuration_id is required"),pick2:_.e().nullable().length(2),lotto_3_box:_.e().nullable(),tirage_1:_.c().required("tirage_1 is required"),tirage_2:_.c().required("tirage_2 is required"),tirage_3:_.c().required("tirage_3 is required"),mariage1:_.c().required("mariage1 is required"),lotto_3:_.c().required("lotto_3 is required"),lotto_4_1:_.c().required("lotto_4 1 is required"),lotto_4_2:_.c().required("lotto_4 2 is required"),lotto_4_3:_.c().required("lotto_4 3 is required"),lotto_5_1:_.c().required("lotto_5 1 is required"),lotto_5_2:_.c().required("lotto_5 2 is required"),lotto_5_3:_.c().required("lotto_5 3 is required"),boule_paire:_.c().required("boule_paire is required"),boule_paire_l3:_.c().required("boule_paire_l3 is required"),mariage_free:_.c().required("mariage free is required")}),M=Object(g.c)({enableReinitialize:!0,initialValues:{tirage_id:(null===r||void 0===r?void 0:r.tirage_id)||null,tauxtirage_id:(null===r||void 0===r?void 0:r.id)||null,configuration_id:(null===r||void 0===r?void 0:r.configuration_id)||null,pick2:(null===r||void 0===r?void 0:r.pick2)||null,lotto_3_box:(null===r||void 0===r?void 0:r.lotto_3_box)||null,tirage_1:(null===r||void 0===r?void 0:r.tirage_1)||null,tirage_2:(null===r||void 0===r?void 0:r.tirage_2)||null,tirage_3:(null===r||void 0===r?void 0:r.tirage_3)||null,mariage1:(null===r||void 0===r?void 0:r.mariage1)||null,mariage2:(null===r||void 0===r?void 0:r.mariage2)||null,mariage3:(null===r||void 0===r?void 0:r.mariage3)||null,lotto_3:(null===r||void 0===r?void 0:r.lotto_3)||null,lotto_4_1:(null===r||void 0===r?void 0:r.lotto_4_1)||null,lotto_4_2:(null===r||void 0===r?void 0:r.lotto_4_2)||null,lotto_4_3:(null===r||void 0===r?void 0:r.lotto_4_3)||null,lotto_5_1:(null===r||void 0===r?void 0:r.lotto_5_1)||null,lotto_5_2:(null===r||void 0===r?void 0:r.lotto_5_2)||null,lotto_5_3:(null===r||void 0===r?void 0:r.lotto_5_3)||null,boule_paire:(null===r||void 0===r?void 0:r.boule_paire)||null,boule_paire_l3:(null===r||void 0===r?void 0:r.boule_paire_l3)||null,mariage_free:(null===r||void 0===r?void 0:r.mariage_free)||null},validationSchema:k,onSubmit:async(e,t)=>{let{setSubmitting:o,resetForm:l,setErrors:i}=t;try{var r;"agent"===c?u?await f.a.handleUpdateAgentConf(e):await f.a.handlePostAgentConf(e):u?await f.a.handleUpdateTirageConf(e):await f.a.handlePostTirageConf(e),l(),o(!1),W("Mettre \xe0 jour avec succ\xe8s",{variant:"success"}),"agent"===c?Object(n.H)():Object(n.c)(),s(null===(r=d.a.tirage)||void 0===r?void 0:r.configuration_type(c))}catch(a){null!==a&&void 0!==a&&a.message?W(null===a||void 0===a?void 0:a.message,{variant:"error"}):alert(JSON.stringify(a)),o(!1),i(a)}}});Object(l.useEffect)((()=>{C(Object(n.w)()),C(Object(n.e)())}),[C]);const{errors:y,values:S,touched:L,handleSubmit:P,isSubmitting:T,setFieldValue:F,getFieldProps:N}=M;return Object(q.jsx)(g.b,{value:M,children:Object(q.jsx)(g.a,{noValidate:!0,autoComplete:"off",onSubmit:P,children:Object(q.jsx)(j.a,{container:!0,spacing:3,children:Object(q.jsx)(j.a,{item:!0,xs:12,md:8,children:Object(q.jsx)(m.a,{sx:{p:3},children:Object(q.jsxs)(p.a,{spacing:3,children:[Object(q.jsx)(p.a,{spacing:{xs:3,sm:2},children:Object(q.jsxs)(v.a,{select:!0,fullWidth:!0,label:"tirage"===c?"Tirage":"Agent",placeholder:"Choisir ".concat("tirage"===c?"tirage":"agent"),...N("configuration_id"),SelectProps:{native:!0},error:Boolean(L.configuration_id&&y.configuration_id),children:[Object(q.jsx)("option",{value:""}),null===(t="tirage"===c?B:w)||void 0===t?void 0:t.map((e=>Object(q.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:"tirage"===c?null===e||void 0===e?void 0:e.name:"".concat(e.first_name," ").concat(e.last_name)},null===e||void 0===e?void 0:e.id)))]})}),"agent"===c&&Object(q.jsx)(p.a,{spacing:{xs:3,sm:2},children:Object(q.jsxs)(v.a,{select:!0,fullWidth:!0,label:"Tirage",placeholder:"Choisir tirage",...N("tirage_id"),SelectProps:{native:!0},error:Boolean(L.tirage_id&&y.tirage_id),children:[Object(q.jsx)("option",{value:""}),null===(o=[{id:0,name:"Generale"},...B])||void 0===o?void 0:o.map((e=>Object(q.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)))]})}),Object(q.jsxs)(p.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(q.jsx)(v.a,{fullWidth:!0,label:"Pick 2",placeholder:"Entrer le montant du pick 2",...N("pick2"),error:Boolean(L.pick2&&y.pick2)}),Object(q.jsx)(v.a,{fullWidth:!0,label:"Lotto 3 box",placeholder:"Entrer le montant du lotto 3 box",...N("lotto_3_box"),error:Boolean(L.lotto_3_box&&y.lotto_3_box)}),Object(q.jsx)(v.a,{fullWidth:!0,label:"Tirage 1",placeholder:"Entrer le montant du tirage 1",...N("tirage_1"),error:Boolean(L.tirage_1&&y.tirage_1)})]}),Object(q.jsxs)(p.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(q.jsx)(v.a,{fullWidth:!0,label:"Tirage 2",placeholder:"Entrer le montant du tirage 2",...N("tirage_2"),error:Boolean(L.tirage_2&&y.tirage_2)}),Object(q.jsx)(v.a,{fullWidth:!0,label:"Tirage 3",placeholder:"Entrer le montant du tirage 3",...N("tirage_3"),error:Boolean(L.tirage_3&&y.tirage_3)}),Object(q.jsx)(v.a,{fullWidth:!0,label:null!==E&&void 0!==E&&E.mariage_option?"Mariage op1":"Mariage",placeholder:null!==E&&void 0!==E&&E.mariage_option?"Entrer le montant du mariage op1":"Entrer le montant du mariage",...N("mariage1"),error:Boolean(L.mariage1&&y.mariage1)})]}),(null===E||void 0===E?void 0:E.mariage_option)&&Object(q.jsxs)(p.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(q.jsx)(v.a,{fullWidth:!0,label:"Mariage op2",placeholder:"Entrer le montant du Mariage op2",...N("mariage2"),error:Boolean(L.mariage2&&y.mariage2)}),Object(q.jsx)(v.a,{fullWidth:!0,label:"Mariage op3",placeholder:"Entrer le montant du Mariage op3",...N("mariage3"),error:Boolean(L.mariage3&&y.mariage3)})]}),Object(q.jsxs)(p.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(q.jsx)(v.a,{fullWidth:!0,label:"Lotto 3",placeholder:"Entrer le montant du lotto 3",...N("lotto_3"),error:Boolean(L.lotto_3&&y.lotto_3)}),Object(q.jsx)(v.a,{fullWidth:!0,label:"Lotto 4 op1",placeholder:"Entrer le montant du lotto 4 op1",...N("lotto_4_1"),error:Boolean(L.lotto_4_1&&y.lotto_4_1)})]}),Object(q.jsxs)(p.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(q.jsx)(v.a,{fullWidth:!0,label:"Lotto 4 op2",placeholder:"Entrer le montant du lotto 4 op2",...N("lotto_4_2"),error:Boolean(L.lotto_4_2&&y.lotto_4_2)}),Object(q.jsx)(v.a,{fullWidth:!0,label:"Lotto 4 op3",placeholder:"Entrer le montant du lotto 4 op3",...N("lotto_4_3"),error:Boolean(L.lotto_4_3&&y.lotto_4_3)})]}),Object(q.jsxs)(p.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(q.jsx)(v.a,{fullWidth:!0,label:"Lotto 5 op1",placeholder:"Entrer le montant du lotto 5 op1",...N("lotto_5_1"),error:Boolean(L.lotto_5_1&&y.lotto_5_1)}),Object(q.jsx)(v.a,{fullWidth:!0,label:"Lotto 5 op2",placeholder:"Entrer le montant du lotto 5 op2",...N("lotto_5_2"),error:Boolean(L.lotto_5_2&&y.lotto_5_2)})]}),Object(q.jsxs)(p.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(q.jsx)(v.a,{fullWidth:!0,label:"Lotto 5 op3",placeholder:"Entrer le montant du lotto 5 op3",...N("lotto_5_3"),error:Boolean(L.lotto_5_3&&y.lotto_5_3)}),Object(q.jsx)(v.a,{fullWidth:!0,label:"Mariage gratuit",placeholder:"Entrer le montant du mariage gratuit",...N("mariage_free"),error:Boolean(L.mariage_free&&y.mariage_free)})]}),Object(q.jsxs)(p.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(q.jsx)(v.a,{fullWidth:!0,label:"boule paire",placeholder:"Entrer le montant du boule paire",...N("boule_paire"),error:Boolean(L.boule_paire&&y.boule_paire)}),Object(q.jsx)(v.a,{fullWidth:!0,label:"boule paire lotto 3",placeholder:"Entrer le montant du boule paire lotto 3",...N("boule_paire_l3"),error:Boolean(L.boule_paire_l3&&y.boule_paire_l3)})]}),Object(q.jsx)(h.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(q.jsx)(x.a,{type:"submit",variant:"contained",loading:T,children:"Sauvegarder les modifications"})})]})})})})})})}function C(){var e;const{themeStretch:t}=Object(c.a)(),o=Object(a.c)(),{pathname:_}=Object(i.m)(),{type:b,configurationId:g}=Object(i.q)(),{tirageprimeConfs:j,agentprimeConfs:m,primeConfs:p}=Object(a.d)((e=>e.user)),v="tirage"===b?j:m,h=null===v||void 0===v?void 0:v.find((e=>(null===e||void 0===e?void 0:e.id)===Number(g))),x=_.includes("edit");return Object(l.useEffect)((()=>{o(Object(n.A)()),x&&(o(Object(n.H)()),o(Object(n.c)()))}),[o]),Object(q.jsx)(u.a,{title:"Configuration: ".concat(x?"Modifier":"Cr\xe9ation"," prime par ").concat(b," | RLP Center Lotto"),children:Object(q.jsxs)(r.a,{maxWidth:!t&&"lg",children:[Object(q.jsx)(s.a,{heading:x?"Modifier prime pour ".concat(null===h||void 0===h?void 0:h.name):"Cr\xe9er une configuration ".concat(b),links:[{name:"Dashboard",href:d.a.root},{name:"Prime generale",href:null===(e=d.a.tirage)||void 0===e?void 0:e.configuration},{name:x?null===h||void 0===h?void 0:h.name:"Nouvel Configuration ".concat(b)}]}),p&&Object(q.jsx)(E,{isEdit:x,currentConf:x?h:p,type:b})]})})}}}]);
//# sourceMappingURL=50.9ecc477d.chunk.js.map