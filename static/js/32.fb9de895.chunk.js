(this.webpackJsonplpcenter=this.webpackJsonplpcenter||[]).push([[32],{1240:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return o}));a(158);var i=a(1250),n=a.n(i);function r(e){return n()(e).format(Number.isInteger(e)?"0,0":"0,0.00")}function l(e){return n()(e/100).format("0.0%")}function c(e){return n()(e).format()}function o(e){return n()(e).format("0.0 b")}},1241:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var i=a(158),n=a(557),r=a(296),l=a(1207),c=a(37),o=a(0);function d(e){let{links:t,action:a,heading:d,moreLink:s=[],sx:u,...j}=e;return Object(o.jsxs)(n.a,{sx:{mb:5,...u},children:[Object(o.jsxs)(n.a,{sx:{display:"flex",alignItems:"center"},children:[Object(o.jsxs)(n.a,{sx:{flexGrow:1},children:[Object(o.jsx)(r.a,{variant:"h4",gutterBottom:!0,children:d}),Object(o.jsx)(c.b,{links:t,...j})]}),a&&Object(o.jsx)(n.a,{sx:{flexShrink:0},children:a})]}),Object(o.jsx)(n.a,{sx:{mt:2},children:Object(i.isString)(s)?Object(o.jsx)(l.a,{href:s,target:"_blank",variant:"body2",children:s}):s.map((e=>Object(o.jsx)(l.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)))})]})}},1244:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i=a(558),n=a(296),r=a(0);function l(e){let{searchQuery:t="",...a}=e;return Object(r.jsxs)(i.a,{...a,children:[Object(r.jsx)(n.a,{gutterBottom:!0,align:"center",variant:"subtitle1",children:"Pas trouv\xe9"}),""!==t&&Object(r.jsxs)(n.a,{variant:"body2",align:"center",children:["Aucun r\xe9sultat trouv\xe9 pour \xa0",Object(r.jsxs)("strong",{children:['"',t,'"']}),". Essayez de v\xe9rifier les fautes de frappe ou d'utiliser des mots complets."]})]})}},1277:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return w})),a.d(t,"c",(function(){return P}));var i=a(1561),n=a(1421),r=a(1422),l=a(1423),c=a(1939),o=a(557),d=a(0);function s(e){let{order:t,orderBy:a,rowCount:s,headLabel:u,numSelected:j,onRequestSort:b,onSelectAllClick:h}=e;return Object(d.jsx)(n.a,{children:Object(d.jsx)(r.a,{children:u.map((e=>{return Object(d.jsx)(l.a,{align:e.align,sortDirection:a===e.id&&t,children:Object(d.jsxs)(c.a,{hideSortIcon:!0,active:a===e.id,direction:a===e.id?t:"asc",onClick:(n=e.id,e=>{b(e,n)}),children:[e.label,a===e.id?Object(d.jsx)(o.a,{sx:{...i.a},children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))})})}var u=a(27),j=a(298),b=a.n(j),h=a(4),m=a(1210),v=a(1221),x=a(1233),O=a(1230),f=a(1229),g=a(1227),p=a(1204),S=a(1911);const y=Object(h.a)(m.a)((e=>{let{theme:t}=e;return{transition:t.transitions.create(["box-shadow","width"],{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&.Mui-focused":{width:200,boxShadow:t.customShadows.z8},"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(t.palette.grey[50032]," !important")}}})),M=130;function w(e){var t,a,i;let{filterName:n,onFilterName:r,onChangeDate1:l,onChangeDate2:c,handleGo:s,value:j,value1:h,value2:m,value3:w,value4:T,setValue2:N,setValue3:C,setValue4:F,loading:k,setLoading:L,agents:A,surcussales:_,infoTirages:G}=e;const R=window.localStorage.getItem("role");return Object(d.jsxs)(v.a,{spacing:2,direction:{xs:"column",md:"row"},sx:{py:2.5,px:3},children:[Object(d.jsx)(x.a,{fullWidth:!0,select:!0,label:"Tirage",value:m,onChange:e=>N(e.target.value),SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{maxWidth:{md:M},textTransform:"capitalize"},children:null===(t=[{id:0,name:"Tout"},...G])||void 0===t?void 0:t.map((e=>Object(d.jsx)(O.a,{value:null===e||void 0===e?void 0:e.id,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)))}),"supervisor"!==R&&Object(d.jsx)(x.a,{fullWidth:!0,select:!0,label:"Surcussale",value:w,onChange:e=>C(e.target.value),SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{maxWidth:{md:M},textTransform:"capitalize"},children:null===(a=[{id:0,addresse_complet:"Tout"},..._])||void 0===a?void 0:a.map((e=>Object(d.jsx)(O.a,{value:null===e||void 0===e?void 0:e.id,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:null===e||void 0===e?void 0:e.addresse_complet},null===e||void 0===e?void 0:e.id)))}),Object(d.jsx)(x.a,{fullWidth:!0,select:!0,label:"Agent",value:T,onChange:e=>F(e.target.value),SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{maxWidth:{md:M},textTransform:"capitalize"},children:null===(i=[{id:0,first_name:"Tout"},...A])||void 0===i?void 0:i.map((e=>Object(d.jsxs)(O.a,{value:null===e||void 0===e?void 0:e.id,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:[null===e||void 0===e?void 0:e.first_name," ",null===e||void 0===e?void 0:e.last_name]},null===e||void 0===e?void 0:e.id)))}),Object(d.jsx)(S.a,{label:"Date de d\xe9but",value:j,inputFormat:"yyyy-MM-dd",onChange:e=>{l(e)},renderInput:e=>Object(d.jsx)(x.a,{...e,fullWidth:!0,sx:{maxWidth:{md:M}}})}),Object(d.jsx)(S.a,{label:"Date de fin",value:h,inputFormat:"yyyy-MM-dd",onChange:e=>{c(e)},renderInput:e=>Object(d.jsx)(x.a,{...e,fullWidth:!0,sx:{maxWidth:{md:M}}})}),Object(d.jsx)(y,{value:n,onChange:r,placeholder:"Rechercher par ticket?...",startAdornment:Object(d.jsx)(f.a,{position:"start",children:Object(d.jsx)(o.a,{component:u.a,icon:b.a,sx:{color:"text.disabled"}})})}),Object(d.jsx)(g.a,{title:"Filter list",children:Object(d.jsx)(p.a,{loading:k,variant:"contained",onClick:s,children:"Filtrer"})})]})}var T=a(8),N=a.n(T),C=a(1),F=(a(1243),a(159)),k=a(222),L=a(103),A=a(63),_=(a(22),a(76)),G=a(46),R=a(297);function P(e){let{ficheId:t,elimine:a}=e;const i=Object(C.useRef)(null),{user:n}=Object(G.a)(),[r,l]=Object(C.useState)(!1),{enqueueSnackbar:c}=Object(F.b)(),o=Object(L.c)(),s=async()=>{if(!r){l(!0);const e={ficheId:t};await k.a.handleUpdateFiche(e),l(!1),o(Object(A.v)()),c(a?"fiche valide with success":"Elimin\xe9 with success",{variant:"success"})}};return Object(d.jsx)(d.Fragment,{children:a?Object(R.a)(null===n||void 0===n?void 0:n.perms,_.a.REACTIVATE_FICHE)&&Object(d.jsx)(p.a,{loading:r,ref:i,color:a?"primary":"error",size:"small",variant:"contained",onClick:()=>{window.confirm("\xcates-vous s\xfbr de bien vouloir ".concat(a?"Reactiver":"Elimin\xe9"," ce fiche?"))&&s()},children:a?"Reactiver":"Elimin\xe9"}):Object(R.a)(null===n||void 0===n?void 0:n.perms,"delete_fichevente")&&Object(d.jsx)(p.a,{loading:r,ref:i,color:a?"primary":"error",size:"small",variant:"contained",onClick:()=>{window.confirm("\xcates-vous s\xfbr de bien vouloir ".concat(a?"Reactiver":"Elimin\xe9"," ce fiche?"))&&s()},children:a?"Reactiver":"Elimin\xe9"})})}P.propTys={ficheId:N.a.number,elimine:N.a.bool}},1888:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return G}));var i=a(158),n=(a(27),a(1)),r=(a(1242),a(32)),l=a(159),c=a(4),o=a(49),d=a(1422),s=a(1226),u=a(1255),j=a(1419),b=a(1221),h=a(296),m=a(1420),v=a(1424),x=a(1423),O=(a(222),a(103)),f=a(63),g=a(22),p=a(91),S=a(380),y=(a(381),a(68)),M=a(1244),w=a(1241),T=a(1277),N=a(223),C=a(1240),F=a(46),k=a(0);const L=[{id:"ref_code",label:"Ticket",alignleft:!0},{id:"name",label:"Nom Agent",alignleft:!0},{id:"type",label:"Tirage",alignleft:!0},{id:"montant",label:"Vente",alignleft:!0},{id:"gain",label:"Gain",alignleft:!0},{id:"date",label:"Date",alignleft:!0}],A=[{id:"NYM",name:"New York Midi"},{id:"NYS",name:"New York Soir"},{id:"FLM",name:"Florida Midi"},{id:"FLS",name:"Florida Soir"},{id:"GGMT",name:"Georgia Matin"},{id:"GGMD",name:"Georgia Soir"},{id:"GGS",name:"Georgia Nuit"},{id:"TXMA",name:"Texas Matin"},{id:"TXM",name:"Texas Midi"},{id:"TXS",name:"Texas Soir"},{id:"CGM",name:"Chicago Midi"},{id:"CGS",name:"Chicago Soir"},{id:"LCM",name:"Lave chody\xe8 Matin"},{id:"LCS",name:"Lave chody\xe8 Soir"},{id:"TNM",name:"Tennessee Matin"},{id:"TNMD",name:"Tennessee Midi"},{id:"TNS",name:"Tennessee Soir"},{id:"NJM",name:"New Jersey Matin"},{id:"NJMM",name:"New Jersey Midi"},{id:"NJS",name:"New Jersey Soir"},{id:"ANA",name:"Anguilla AM (10H)"},{id:"ANM",name:"Anguilla Midi"},{id:"ANS",name:"Anguilla Soir"},{id:"ANN",name:"Anguilla Nuit"},{id:"RL",name:"Real"},{id:"PRM",name:"Primera Midi"},{id:"PRS",name:"Primera Soir"},{id:"SUA",name:"Suerte AM"},{id:"SUS",name:"Suerte Soir"},{id:"LK",name:"Loteka"},{id:"KL",name:"King Lottery Noche"},{id:"NA",name:"Nacional Midi"},{id:"NAS",name:"Nacional Soir"},{id:"QPL",name:"Quiniela pal\xe9"}];Object(c.a)(d.a)((e=>{let{theme:t}=e;return{"& td":{paddingTop:t.spacing(1),paddingBottom:t.spacing(1)}}}));function _(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function G(){var e,t;const{user:a}=Object(F.a)(),{themeStretch:c}=Object(p.a)(),{enqueueSnackbar:G}=(Object(o.a)(),Object(l.b)()),R=Object(O.c)(),{fichegagnants:P,agents:W,surcussales:D,infotirages:I}=Object(O.d)((e=>e.user)),[z,E]=Object(n.useState)(!1),[J,V]=Object(n.useState)(0),[B,H]=Object(n.useState)("asc"),[q,Q]=Object(n.useState)([]),[Y,K]=Object(n.useState)("first_name"),[U,X]=Object(n.useState)(""),[Z,$]=Object(n.useState)(25),[ee,te]=Object(n.useState)(new Date),[ae,ie]=Object(n.useState)(new Date),[ne,re]=Object(n.useState)(0),[le,ce]=Object(n.useState)(0),[oe,de]=Object(n.useState)(0);Object(n.useEffect)((()=>{R(Object(f.e)()),R(Object(f.G)()),R(Object(f.w)())}),[R]);const se=(e,t)=>{H(Y===t&&"asc"===B?"desc":"asc"),K(t)},ue=e=>{if(e.target.checked){const e=null===P||void 0===P?void 0:P.map((e=>e.id));Q(e)}else Q([])},je=(J>0&&Math.max(0,(1+J)*Z-P.length),function(e,t,a){const n=null===e||void 0===e?void 0:e.map(((e,t)=>[e,t]));return null===n||void 0===n||n.sort(((e,a)=>{const i=t(e[0],a[0]);return 0!==i?i:e[1]-a[1]})),a?Object(i.filter)(e,(e=>-1!==(null===e||void 0===e?void 0:e.ref_code.toLowerCase().indexOf(a.toLowerCase())))):null===n||void 0===n?void 0:n.map((e=>e[0]))}(P,function(e,t){return"desc"===e?(e,a)=>_(e,a,t):(e,a)=>-_(e,a,t)}(B,Y),U)),be=Object(i.sum)(null===(e=Z>0?null===je||void 0===je?void 0:je.slice(J*Z,J*Z+Z):je)||void 0===e?void 0:e.map((e=>parseFloat(e.montant)))).toFixed(2),he=Object(i.sum)(null===je||void 0===je?void 0:je.map((e=>parseFloat(e.perte)))).toFixed(2),me=0===(null===je||void 0===je?void 0:je.length),ve=je.reduce(((e,t)=>(e[t.name]||(e[t.name]=[]),e[t.name].push(t),e)),{}),xe=Object.keys(ve).map((e=>({name:e,fiches:ve[e]})));return Object(k.jsx)(S.a,{title:"Fiche gagnants: List | RLP Center Lotto",children:Object(k.jsxs)(s.a,{maxWidth:!c&&"lg",children:[Object(k.jsx)(w.a,{heading:"Liste des fiches gagnants",links:[{name:"Dashboard",href:g.a.root},{name:"Fiches Gagnants",href:null===(t=g.a.borlette)||void 0===t?void 0:t.list},{name:"Listes"}]}),Object(k.jsxs)(u.a,{children:[Object(k.jsx)(T.b,{filterName:U,onFilterName:e=>{X(e.target.value)},value:ee,value1:ae,value2:ne,value3:le,value4:oe,setValue2:re,setValue3:ce,setValue4:de,onChangeDate1:e=>{te(e)},onChangeDate2:e=>{ie(e)},handleGo:async()=>{E(!0),await R(Object(f.t)(Object(N.a)(ee),Object(N.a)(ae),ne,le,oe)),E(!1)},isFicheNotFound:me,loading:z,setLoading:E,agents:W,surcussales:D,infoTirages:"superuser"!==(null===a||void 0===a?void 0:a.role)?I:A}),Object(k.jsx)(y.a,{children:Object(k.jsxs)(j.a,{sx:{minWidth:800},children:[xe.map((e=>{var t,a;return Object(k.jsxs)(b.a,{spacing:3,children:[Object(k.jsx)(h.a,{variant:"h5",sx:{pl:3},children:e.name}),Object(k.jsxs)(m.a,{children:[Object(k.jsx)(T.a,{order:B,orderBy:Y,headLabel:L,rowCount:null===P||void 0===P?void 0:P.length,numSelected:null===q||void 0===q?void 0:q.length,onRequestSort:se,onSelectAllClick:ue}),Object(k.jsx)(v.a,{children:e.fiches.map((e=>Object(k.jsxs)(d.a,{hover:!0,children:[Object(k.jsx)(x.a,{component:r.b,to:"".concat(g.a.fiche_view(null===e||void 0===e?void 0:e.ref_code)),align:"left",sx:{color:"#143fff"},children:null===e||void 0===e?void 0:e.ref_code}),Object(k.jsxs)(x.a,{align:"left",children:[null===e||void 0===e?void 0:e.agent_first_name," ",null===e||void 0===e?void 0:e.agent_last_name]}),Object(k.jsx)(x.a,{align:"left",children:null===e||void 0===e?void 0:e.name}),Object(k.jsx)(x.a,{align:"left",children:parseFloat(null===e||void 0===e?void 0:e.montant).toFixed(2)}),Object(k.jsx)(x.a,{align:"left",children:parseFloat(null===e||void 0===e?void 0:e.perte).toFixed(2)}),Object(k.jsx)(x.a,{align:"left",children:Object(N.c)(null===e||void 0===e?void 0:e.created_on)})]})))}),Object(k.jsxs)(d.a,{children:[Object(k.jsx)(x.a,{colSpan:2}),Object(k.jsx)(x.a,{align:"center",children:Object(k.jsx)(h.a,{variant:"h6",children:"Total"})}),Object(k.jsx)(x.a,{align:"left",width:100,children:Object(k.jsx)(h.a,{variant:"h6",children:Object(i.sum)(null===(t=e.fiches)||void 0===t?void 0:t.map((e=>parseFloat(e.montant)))).toFixed(2)})}),Object(k.jsx)(x.a,{align:"left",width:100,children:Object(k.jsx)(h.a,{variant:"h6",children:Object(i.sum)(null===(a=e.fiches)||void 0===a?void 0:a.map((e=>parseFloat(e.perte)))).toFixed(2)})})]})]})]})})),!me&&Object(k.jsxs)(d.a,{children:[Object(k.jsx)(x.a,{colSpan:2}),Object(k.jsx)(x.a,{align:"center",children:Object(k.jsx)(h.a,{variant:"h6",children:"Total"})}),Object(k.jsx)(x.a,{align:"left",width:100,children:Object(k.jsx)(h.a,{variant:"h6",children:Object(C.a)(be)})}),Object(k.jsx)(x.a,{align:"left",width:100,children:Object(k.jsx)(h.a,{variant:"h6",children:Object(C.a)(he)})})]}),me&&Object(k.jsx)(v.a,{children:Object(k.jsx)(d.a,{children:Object(k.jsx)(x.a,{align:"center",colSpan:10,sx:{py:3},children:Object(k.jsx)(M.a,{searchQuery:U})})})})]})})]})]})})}}}]);
//# sourceMappingURL=32.fb9de895.chunk.js.map