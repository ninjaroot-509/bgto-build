(this.webpackJsonplpcenter=this.webpackJsonplpcenter||[]).push([[35],{1240:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return s}));r(158);var a=r(1250),o=r.n(a);function c(e){return o()(e).format(Number.isInteger(e)?"0,0":"0,0.00")}function i(e){return o()(e/100).format("0.0%")}function n(e){return o()(e).format()}function s(e){return o()(e).format("0.0 b")}},1241:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var a=r(158),o=r(557),c=r(296),i=r(1207),n=r(37),s=r(0);function l(e){let{links:t,action:r,heading:l,moreLink:d=[],sx:u,...b}=e;return Object(s.jsxs)(o.a,{sx:{mb:5,...u},children:[Object(s.jsxs)(o.a,{sx:{display:"flex",alignItems:"center"},children:[Object(s.jsxs)(o.a,{sx:{flexGrow:1},children:[Object(s.jsx)(c.a,{variant:"h4",gutterBottom:!0,children:l}),Object(s.jsx)(n.b,{links:t,...b})]}),r&&Object(s.jsx)(o.a,{sx:{flexShrink:0},children:r})]}),Object(s.jsx)(o.a,{sx:{mt:2},children:Object(a.isString)(d)?Object(s.jsx)(i.a,{href:d,target:"_blank",variant:"body2",children:d}):d.map((e=>Object(s.jsx)(i.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)))})]})}},1252:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var a=r(158),o=r(27),c=r(1245),i=(r(563),r(192),r(1205),r(1192),r(4)),n=r(59),s=r(558),l=r(557),d=r(296),u=(r(1218),r(1215),r(1185),r(1186),r(1216),r(1221),r(1201),r(1240)),b=(r(37),r(191),r(562),r(0));Object(i.a)("div")((e=>{let{theme:t}=e;return{outline:"none",display:"flex",textAlign:"center",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,1),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.neutral,border:"1px dashed ".concat(t.palette.grey[50032]),"&:hover":{opacity:.72,cursor:"pointer"},[t.breakpoints.up("md")]:{textAlign:"left",flexDirection:"row"}}}));Object(i.a)("div")((e=>{let{theme:t}=e;return{outline:"none",display:"flex",overflow:"hidden",textAlign:"center",position:"relative",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,0),borderRadius:t.shape.borderRadius,transition:t.transitions.create("padding"),backgroundColor:t.palette.background.neutral,border:"1px dashed ".concat(t.palette.grey[50032]),"&:hover":{opacity:.72,cursor:"pointer"},[t.breakpoints.up("md")]:{textAlign:"left",flexDirection:"row"}}}));var h=r(1261),p=r.n(h);const j=Object(i.a)("div")((e=>{let{theme:t}=e;return{width:144,height:144,margin:"auto",borderRadius:"50%",padding:t.spacing(1),border:"1px dashed ".concat(t.palette.grey[50032])}})),m=Object(i.a)("div")({zIndex:0,width:"100%",height:"100%",outline:"none",display:"flex",overflow:"hidden",borderRadius:"50%",position:"relative",alignItems:"center",justifyContent:"center","& > *":{width:"100%",height:"100%"},"&:hover":{cursor:"pointer","& .placeholder":{zIndex:9}}}),v=Object(i.a)("div")((e=>{let{theme:t}=e;return{display:"flex",position:"absolute",alignItems:"center",flexDirection:"column",justifyContent:"center",color:t.palette.text.secondary,backgroundColor:t.palette.background.neutral,transition:t.transitions.create("opacity",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&:hover":{opacity:.72}}}));function x(e){let{error:t,file:r,caption:i,sx:h,...x}=e;const{getRootProps:g,getInputProps:O,isDragActive:f,isDragReject:y,fileRejections:k}=Object(c.a)({multiple:!1,...x}),w=()=>Object(b.jsx)(s.a,{variant:"outlined",sx:{py:1,px:2,my:2,borderColor:"error.light",bgcolor:e=>Object(n.a)(e.palette.error.main,.08)},children:k.map((e=>{let{file:t,errors:r}=e;const{path:a,size:o}=t;return Object(b.jsxs)(l.a,{sx:{my:1},children:[Object(b.jsxs)(d.a,{variant:"subtitle2",noWrap:!0,children:[a," - ",Object(u.b)(o)]}),r.map((e=>Object(b.jsxs)(d.a,{variant:"caption",component:"p",children:["- ",e.message]},e.code)))]},a)}))});return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j,{sx:h,children:Object(b.jsxs)(m,{...g(),sx:{...f&&{opacity:.72},...(y||t)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}},children:[Object(b.jsx)("input",{...O()}),r&&Object(b.jsx)(l.a,{component:"img",alt:"avatar",src:Object(a.isString)(r)?r:r.preview,sx:{zIndex:8,objectFit:"cover"}}),Object(b.jsxs)(v,{className:"placeholder",sx:{...r&&{opacity:0,color:"common.white",bgcolor:"grey.900","&:hover":{opacity:.72}}},children:[Object(b.jsx)(l.a,{component:o.a,icon:p.a,sx:{width:24,height:24,mb:1}}),Object(b.jsx)(d.a,{variant:"caption",children:r?"Update photo":"Upload photo"})]})]})}),i,k.length>0&&Object(b.jsx)(w,{})]})}},1266:function(e,t,r){"use strict";var a=r(5),o=r(2),c=r(1),i=r(11),n=r(221),s=r(59),l=r(12),d=r(231),u=r(15),b=r(4),h=r(190),p=r(156);function j(e){return Object(p.a)("MuiSwitch",e)}var m=Object(h.a)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),v=r(0);const x=["className","color","edge","size","sx"],g=Object(b.a)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t["edge".concat(Object(l.a)(r.edge))],t["size".concat(Object(l.a)(r.size))]]}})((e=>{let{ownerState:t}=e;return Object(o.a)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===t.edge&&{marginLeft:-8},"end"===t.edge&&{marginRight:-8},"small"===t.size&&{width:40,height:24,padding:7,["& .".concat(m.thumb)]:{width:16,height:16},["& .".concat(m.switchBase)]:{padding:4,["&.".concat(m.checked)]:{transform:"translateX(16px)"}}})})),O=Object(b.a)(d.a,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{["& .".concat(m.input)]:t.input},"default"!==r.color&&t["color".concat(Object(l.a)(r.color))]]}})((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:"".concat("light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]),transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),["&.".concat(m.checked)]:{transform:"translateX(20px)"},["&.".concat(m.disabled)]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:"".concat("light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600])},["&.".concat(m.checked," + .").concat(m.track)]:{opacity:.5},["&.".concat(m.disabled," + .").concat(m.track)]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:"".concat("light"===t.palette.mode?.12:.2)},["& .".concat(m.input)]:{left:"-100%",width:"300%"}}}),(e=>{let{theme:t,ownerState:r}=e;return Object(o.a)({"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Object(s.a)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&{["&.".concat(m.checked)]:{color:(t.vars||t).palette[r.color].main,"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[r.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Object(s.a)(t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(m.disabled)]:{color:t.vars?t.vars.palette.Switch["".concat(r.color,"DisabledColor")]:"".concat("light"===t.palette.mode?Object(s.e)(t.palette[r.color].main,.62):Object(s.b)(t.palette[r.color].main,.55))}},["&.".concat(m.checked," + .").concat(m.track)]:{backgroundColor:(t.vars||t).palette[r.color].main}})})),f=Object(b.a)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),y=Object(b.a)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),k=c.forwardRef((function(e,t){const r=Object(u.a)({props:e,name:"MuiSwitch"}),{className:c,color:s="primary",edge:d=!1,size:b="medium",sx:h}=r,p=Object(a.a)(r,x),m=Object(o.a)({},r,{color:s,edge:d,size:b}),k=(e=>{const{classes:t,edge:r,size:a,color:c,checked:i,disabled:s}=e,d={root:["root",r&&"edge".concat(Object(l.a)(r)),"size".concat(Object(l.a)(a))],switchBase:["switchBase","color".concat(Object(l.a)(c)),i&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},u=Object(n.a)(d,j,t);return Object(o.a)({},t,u)})(m),w=Object(v.jsx)(y,{className:k.thumb,ownerState:m});return Object(v.jsxs)(g,{className:Object(i.a)(k.root,c),sx:h,ownerState:m,children:[Object(v.jsx)(O,Object(o.a)({type:"checkbox",icon:w,checkedIcon:w,ref:t,ownerState:m},p,{classes:Object(o.a)({},k,{root:k.switchBase})})),Object(v.jsx)(f,{className:k.track,ownerState:m})]})}));t.a=k},1947:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return C}));var a=r(1),o=r(19),c=r(1226),i=r(103),n=r(63),s=r(22),l=r(91),d=r(380),u=r(1241),b=r(226),h=r(159),p=r(225),j=r(1208),m=r(1255),v=r(1221),x=r(1233),g=r(1232),O=r(1266),f=r(557),y=r(1204),k=(r(27),r(383),r(192),r(384),r(222)),w=(r(381),r(1252),r(0));function S(e){let{isEdit:t,currentSurcussale:r}=e;const c=Object(o.o)(),l=Object(i.c)(),{enqueueSnackbar:d}=Object(h.b)(),{surcussales:u,supervisors:S,countries:C,city:_}=Object(i.d)((e=>e.user)),R=b.d().shape({addresse_complet:b.e().required("Addresse complet is required"),country_id:b.e().required("Country is required"),city_id:b.e().required("City is required"),supervisor_id:b.e().required("Supervisor is required")}),z=Object(p.c)({enableReinitialize:!0,initialValues:{addresse_complet:(null===r||void 0===r?void 0:r.addresse_complet)||null,country_id:(null===r||void 0===r?void 0:r.country)||null,city_id:(null===r||void 0===r?void 0:r.city)||null,supervisor_id:(null===r||void 0===r?void 0:r.supervisor)||null,block:null===r||void 0===r?void 0:r.block,surcussaleId:null===r||void 0===r?void 0:r.id},validationSchema:R,onSubmit:async(e,r)=>{let{setSubmitting:a,resetForm:o,setErrors:i}=r;try{var l;t?await k.a.handleModifySurcussale(e):await k.a.handleAddSurcussale(e),o(),a(!1),d(t?"Mettre \xe0 jour avec succ\xe8s":"Cr\xe9er avec succ\xe8s",{variant:"success"}),Object(n.G)(),c(null===(l=s.a.surcussale)||void 0===l?void 0:l.list)}catch(u){null!==u&&void 0!==u&&u.message?d(null===u||void 0===u?void 0:u.message,{variant:"error"}):alert(JSON.stringify(u)),a(!1),i(u)}}});Object(a.useEffect)((()=>{l(Object(n.G)()),l(Object(n.F)()),l(Object(n.r)()),l(Object(n.o)())}),[l]);const{errors:I,values:B,touched:M,handleSubmit:D,isSubmitting:N,setFieldValue:q,getFieldProps:P}=z;return Object(w.jsx)(p.b,{value:z,children:Object(w.jsx)(p.a,{noValidate:!0,autoComplete:"off",onSubmit:D,children:Object(w.jsx)(j.a,{container:!0,spacing:3,children:Object(w.jsx)(j.a,{item:!0,xs:12,md:8,children:Object(w.jsx)(m.a,{sx:{p:3},children:Object(w.jsxs)(v.a,{spacing:3,children:[Object(w.jsxs)(v.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(w.jsxs)(x.a,{select:!0,fullWidth:!0,label:"Pays",placeholder:"Choisir le Pays",...P("country_id"),SelectProps:{native:!0},error:Boolean(M.country_id&&I.country_id),children:[Object(w.jsx)("option",{value:""}),null===C||void 0===C?void 0:C.map((e=>Object(w.jsx)("option",{value:e.id,children:e.name},e.id)))]}),Object(w.jsx)(x.a,{fullWidth:!0,label:"Ville",placeholder:"Choisir la ville",...P("city_id"),error:Boolean(M.city_id&&I.city_id)})]}),Object(w.jsxs)(v.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(w.jsxs)(x.a,{select:!0,fullWidth:!0,label:"Superviseur",placeholder:"Choisir le superviseur",...P("supervisor_id"),SelectProps:{native:!0},error:Boolean(M.supervisor_id&&I.supervisor_id),children:[Object(w.jsx)("option",{value:""}),null===S||void 0===S?void 0:S.map((e=>Object(w.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id)))]}),Object(w.jsx)(x.a,{fullWidth:!0,label:"Nom central",placeholder:"Entrer le nom du central",...P("addresse_complet"),error:Boolean(M.addresse_complet&&I.addresse_complet)})]}),Object(w.jsx)(v.a,{direction:{xs:"column",md:"row"},spacing:2,children:Object(w.jsx)(g.a,{control:Object(w.jsx)(O.a,{...P("block"),checked:null===B||void 0===B?void 0:B.block,color:null!==B&&void 0!==B&&B.block?"success":"primary"}),labelPlacement:"start",label:"Block"})}),Object(w.jsx)(f.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(w.jsx)(y.a,{type:"submit",variant:"contained",loading:N,children:t?"Sauvegarder les modifications":"Cr\xe9er Surcussale"})})]})})})})})})}function C(){var e;const{themeStretch:t}=Object(l.a)(),r=Object(i.c)(),{pathname:b}=Object(o.m)(),{surcussaleId:h}=Object(o.q)(),{surcussales:p}=Object(i.d)((e=>e.user)),j=b.includes("edit"),m=p.find((e=>(null===e||void 0===e?void 0:e.id)===Number(h))),[v,x]=Object(a.useState)(!1);return Object(a.useEffect)((()=>{m&&x(!0)}),[m]),Object(a.useEffect)((()=>{r(Object(n.G)())}),[]),Object(w.jsx)(d.a,{title:"Surcussale: Cr\xe9er un nouvel surcussale | RLP Center Lotto",children:Object(w.jsxs)(c.a,{maxWidth:!t&&"lg",children:[Object(w.jsx)(u.a,{heading:j?"Modifier Surcussale":"Cr\xe9er un nouvel surcussale",links:[{name:"Dashboard",href:s.a.root},{name:"Surcussale",href:null===(e=s.a.surcussale)||void 0===e?void 0:e.root},{name:j?"Modification":"Nouvel surcussale"}]}),(!j||v)&&Object(w.jsx)(S,{isEdit:j,currentSurcussale:m})]})})}}}]);
//# sourceMappingURL=35.a17b3d33.chunk.js.map